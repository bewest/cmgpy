<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML>
<HEAD>
<TITLE></TITLE>
</HEAD>
<BODY>
<A name=1></a><IMG src="Telit_IP_User_Guide_r10-1_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-1_2.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-1_3.jpg"><br>
&nbsp;<br>
<b>IP Easy User Guide&nbsp;<br></b>&nbsp;<br>80000ST10028 Rev. 10&nbsp;–&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp;<br>
<hr>
<A name=2></a><IMG src="Telit_IP_User_Guide_r10-2_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-2_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
<b>&nbsp;</b><br>
<b>IP Easy&nbsp;User&nbsp;Guide&nbsp;&nbsp;</b><br>
rev.10&nbsp;<b>&nbsp;</b>2011-03-09&nbsp;<br>
&nbsp;<br>
APPLICABILITY TABLE&nbsp;<br>
&nbsp;<br>
PRODUCT<br>
GT863-PY<br>
GT864-QUAD<br>
GT864-PY<br>
GT864-3G<br>
GT863-3GG<br>
GM862-GPS<br>
GC864-QUAD<br>
GC864-DUAL<br>
GC864-QUAD V2<br>
GC864-DUAL&nbsp;V2<br>
UC864-G<br>
UC864-E<br>
UC864-E-DUAL<br>
UC864-E-AUTO<br>
UC864-WD<br>
GE863-QUAD<br>
GE863-GPS<br>
GE863-SIM<br>
GE863-PRO3<br>
GE863-PRO3&nbsp;with Linux<br>
GE864-QUAD<br>
GE864-QUAD V2<br>
GE864-DUAL&nbsp;V2<br>
GE864-QUAD Automotive&nbsp;V2<br>
GE864-QUAD Atex<br>
GE865-QUAD<br>
GL865-DUAL<br>
GL865-QUAD<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;2 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=3></a><IMG src="Telit_IP_User_Guide_r10-3_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-3_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
<b>&nbsp;</b><br>
<b>IP Easy&nbsp;User&nbsp;Guide&nbsp;&nbsp;</b><br>
<b>&nbsp;</b><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
<b>SW Version&nbsp;</b><br>
<b>7.02.xx7 / 7.03.xx2&nbsp;</b><br>
<b>10.00.xx4&nbsp;</b><br>
<b>08.01.xx6&nbsp;</b><br>
3&nbsp;of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=4></a><IMG src="Telit_IP_User_Guide_r10-4_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-4_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
DISCLAIMER&nbsp;<br>&nbsp;<br>The information contained in this document&nbsp;is the proprietary information of Telit&nbsp;<br>Communications S.p.A.&nbsp;and its&nbsp;affiliates (“TELIT”). &nbsp;<br>The contents are confidential and any disclosure to persons other than the officers,&nbsp;<br>employees, agents or subcontractors of the owner or licensee of this document,&nbsp;<br>without the prior written consent of Telit,&nbsp;is strictly prohibited.&nbsp;<br>Telit makes&nbsp;every effort&nbsp;to ensure&nbsp;the quality of the information it makes available.&nbsp;<br>Notwithstanding the foregoing,&nbsp;Telit&nbsp;does not make any&nbsp;warranty as to the information&nbsp;<br>contained herein,&nbsp;and does not accept any liability for any&nbsp;injury, loss or&nbsp;damage of&nbsp;any&nbsp;<br>kind incurred by use of or&nbsp;reliance upon the information.&nbsp;<br>Telit disclaims any and&nbsp;all&nbsp;responsibility&nbsp;for&nbsp;the application&nbsp;of the devices characterized&nbsp;<br>in this document, and notes that the application of the device must comply with the&nbsp;<br>safety standards of the&nbsp;applicable&nbsp;country, and where&nbsp;applicable,&nbsp;with&nbsp;the relevant&nbsp;<br>wiring rules.&nbsp;<br>Telit reserves the right&nbsp;to make modifications,&nbsp;additions and deletions to this document&nbsp;<br>due to typographical errors, inaccurate information, or improvements to programs&nbsp;<br>and/or equipment at any time and without notice. &nbsp;<br>Such changes will, nevertheless be incorporated&nbsp;into new editions of this document.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>Copyright: Transmittal,&nbsp;reproduction, dissemination and/or editing of this document as&nbsp;<br>well as utilization of its&nbsp;contents and communication thereof to others without express&nbsp;<br>authorization are prohibited. Offenders will be held liable for payment of damages. All&nbsp;<br>rights are reserved. &nbsp;<br>&nbsp;<br>Copyright © Telit Communications S.p.A. 2011.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;4 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=5></a><IMG src="Telit_IP_User_Guide_r10-5_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-5_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Contents&nbsp;<br>&nbsp;<br>
1.&nbsp;<br>
INTRODUCTION&nbsp;.................................................................................................................................... 7&nbsp;<br>
1.1.&nbsp;<br>
SCOPE&nbsp;............................................................................................................................................................ 7&nbsp;<br>
1.2.&nbsp;<br>
AUDIENCE&nbsp;...................................................................................................................................................... 7&nbsp;<br>
1.3.&nbsp;<br>
CONTACT&nbsp;INFORMATION,&nbsp;SUPPORT&nbsp;....................................................................................................................&nbsp;7&nbsp;<br>
1.4.&nbsp;<br>
DOCUMENT&nbsp;ORGANIZATION&nbsp;............................................................................................................................... 8&nbsp;<br>
1.5.&nbsp;<br>
TEXT&nbsp;CONVENTIONS&nbsp;......................................................................................................................................... 8&nbsp;<br>
1.6.&nbsp;<br>
RELATED&nbsp;DOCUMENTS&nbsp;..................................................................................................................................... 9&nbsp;<br>
1.7.&nbsp;<br>
DOCUMENT&nbsp;HISTORY&nbsp;...................................................................................................................................... 10&nbsp;<br>
2.&nbsp;<br>
IP EASY&nbsp;OPERATIONS&nbsp;........................................................................................................................ 12&nbsp;<br>
2.1.&nbsp;<br>
PRELIMINARY CONTEXT PARAMETERS SETTING&nbsp;...................................................................................................&nbsp;&nbsp;12&nbsp;<br>
2.1.1.&nbsp;<br>
Context parameter setting&nbsp;................................................................................................................ 12&nbsp;<br>
2.1.2.&nbsp;<br>
Minimum Quality&nbsp;of the Service Requested&nbsp;......................................................................................&nbsp;14&nbsp;<br>
2.1.3.&nbsp;<br>
Requested&nbsp;Quality of&nbsp;the Service&nbsp;...................................................................................................... 17&nbsp;<br>
2.1.4.&nbsp;<br>
3G Minimum&nbsp;Quality of the Service Requested&nbsp;................................................................................&nbsp;18&nbsp;<br>
2.1.5.&nbsp;<br>
3G&nbsp;Requested Quality&nbsp;of the Service&nbsp;................................................................................................. 21&nbsp;<br>
2.2.&nbsp;<br>
CONTEXT&nbsp;ACTIVATION AND DATA&nbsp;STATE ENTERING&nbsp;..............................................................................................&nbsp;23&nbsp;<br>
2.3.&nbsp;<br>
DATA STATE&nbsp;EXIT&nbsp;............................................................................................................................................ 25&nbsp;<br>
3.&nbsp;<br>
IP EASY&nbsp;EXTENSION&nbsp;........................................................................................................................... 26&nbsp;<br>
3.1.&nbsp;<br>
OVERVIEW&nbsp;..................................................................................................................................................... 26&nbsp;<br>
3.2.&nbsp;<br>
COMMANDS&nbsp;OVERVIEW&nbsp;................................................................................................................................... 28&nbsp;<br>
3.2.1.&nbsp;<br>
IP Easy&nbsp;Outgoing Connection&nbsp;............................................................................................................ 28&nbsp;<br>
3.2.2.&nbsp;<br>
IP Easy Incoming Connection&nbsp;............................................................................................................ 39&nbsp;<br>
3.2.3.&nbsp;<br>
Known limitations&nbsp;............................................................................................................................. 45&nbsp;<br>
3.3.&nbsp;<br>
FTP&nbsp;OPERATIONS&nbsp;...................................................................................................................................... 45&nbsp;<br>
3.3.1.&nbsp;<br>
Opening and&nbsp;Closing an FTP Connection&nbsp;.......................................................................................... 46&nbsp;<br>
3.3.2.&nbsp;<br>
Setting&nbsp;the FTP Transfer Type&nbsp;.......................................................................................................... 47&nbsp;<br>
3.3.3.&nbsp;<br>
FTP&nbsp;File transfer&nbsp;to the server&nbsp;......................................................................................................... 47&nbsp;<br>
3.3.4.&nbsp;<br>
FTP&nbsp;File&nbsp;download&nbsp;from the&nbsp;server&nbsp;.................................................................................................. 49&nbsp;<br>
3.3.5.&nbsp;<br>
FTP&nbsp;File&nbsp;download&nbsp;restart&nbsp;................................................................................................................. 53&nbsp;<br>
3.3.6.&nbsp;<br>
FTP&nbsp;File&nbsp;upload restart&nbsp;..................................................................................................................... 53&nbsp;<br>
3.4.&nbsp;<br>
AT&nbsp;COMMANDS&nbsp;COMPATIBILITY&nbsp;TABLE&nbsp;.............................................................................................................&nbsp;54&nbsp;<br>
3.5.&nbsp;<br>
EXAMPLES&nbsp;.................................................................................................................................................... 55&nbsp;<br>
3.5.1.&nbsp;<br>
IP Easy- HTTP client&nbsp;application&nbsp;....................................................................................................... 55&nbsp;<br>
3.5.2.&nbsp;<br>
IP Easy -&nbsp;EMAIL&nbsp;sending application&nbsp;................................................................................................ 57&nbsp;<br>
3.5.3.&nbsp;<br>
IP Easy -EMAIL receiving application&nbsp;............................................................................................... 63&nbsp;<br>
3.5.4.&nbsp;<br>
Remote connection&nbsp;between two&nbsp;modules&nbsp;.......................................................................................&nbsp;65&nbsp;<br>
4.1.&nbsp;<br>
OVERVIEW&nbsp;..................................................................................................................................................... 67&nbsp;<br>
4.2.&nbsp;<br>
COMMANDS OVERVIEW&nbsp;.................................................................................................................................... 68&nbsp;<br>
4.2.1.&nbsp;<br>
Configuring GSM&nbsp;access&nbsp;................................................................................................................... 68&nbsp;<br>
4.2.2.&nbsp;<br>
Configuring the embedded&nbsp;TCP/IP&nbsp;stack&nbsp;.........................................................................................&nbsp;68&nbsp;<br>
4.2.3.&nbsp;<br>
Request&nbsp;GSM&nbsp;context to be activated&nbsp;............................................................................................... 68&nbsp;<br>
4.2.4.&nbsp;<br>
IP address information&nbsp;...................................................................................................................... 69&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;5 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=6></a><IMG src="Telit_IP_User_Guide_r10-6_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-6_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
4.2.5.&nbsp;<br>
Limitations&nbsp;and&nbsp;connections with other&nbsp;AT commands&nbsp;...................................................................&nbsp;70&nbsp;<br>
4.3.&nbsp;<br>
EXAMPLES&nbsp;.................................................................................................................................................... 70&nbsp;<br>
4.3.1.&nbsp;<br>
Easy GSM&nbsp;- HTTP&nbsp;client application.................................................................................................. 70&nbsp;<br>
4.3.2.&nbsp;<br>
FTP&nbsp;file transfer&nbsp;................................................................................................................................ 73&nbsp;<br>
4.3.3.&nbsp;<br>
Remote connection&nbsp;between two&nbsp;modules&nbsp;.......................................................................................&nbsp;73&nbsp;<br>
5.&nbsp;<br>
COMMAND MODE&nbsp;CONNECTIONS&nbsp;......................................................................................................&nbsp;76&nbsp;<br>
5.1.&nbsp;<br>
OVERVIEW&nbsp;..................................................................................................................................................... 76&nbsp;<br>
5.2.&nbsp;<br>
COMMANDS&nbsp;OVERVIEW&nbsp;................................................................................................................................... 76&nbsp;<br>
5.2.1.&nbsp;<br>
Opening a socket connection&nbsp;in command mode&nbsp;.............................................................................&nbsp;77&nbsp;<br>
5.2.2.&nbsp;<br>
Configuring extended&nbsp;socket parameters&nbsp;........................................................................................&nbsp;78&nbsp;<br>
5.2.3.&nbsp;<br>
Send&nbsp;data in&nbsp;command&nbsp;mode connections&nbsp;.......................................................................................&nbsp;80&nbsp;<br>
5.2.4.&nbsp;<br>
Receive data in&nbsp;command mode&nbsp;connections&nbsp;..................................................................................&nbsp;81&nbsp;<br>
5.2.5.&nbsp;<br>
Socket&nbsp;Information command&nbsp;........................................................................................................... 82&nbsp;<br>
5.3.&nbsp;<br>
EXAMPLES&nbsp;.................................................................................................................................................... 83&nbsp;<br>
5.3.1.&nbsp;<br>
Open a command mode&nbsp;connection with Classic SRING&nbsp;.................................................................&nbsp;83&nbsp;<br>
5.3.2.&nbsp;<br>
Open a command mode&nbsp;connection&nbsp;with Data&nbsp;amount&nbsp;SRING&nbsp;........................................................&nbsp;83&nbsp;<br>
5.3.3.&nbsp;<br>
61BOpen a command&nbsp;mode connection with&nbsp;Data view SRING&nbsp;.......................................................&nbsp;84&nbsp;<br>
5.3.4.&nbsp;<br>
Open a command mode&nbsp;connection with AT#SA&nbsp;..............................................................................&nbsp;85&nbsp;<br>
5.3.5.&nbsp;<br>
Passing from command&nbsp;mode&nbsp;to&nbsp;online mode&nbsp;interface&nbsp;.................................................................&nbsp;86&nbsp;<br>
5.3.6.&nbsp;<br>
ICMP / PING&nbsp;handling&nbsp;....................................................................................................................... 86&nbsp;<br>
6.&nbsp;<br>
LIST OF&nbsp;ACRONYMS&nbsp;........................................................................................................................... 88&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;6 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=7></a><IMG src="Telit_IP_User_Guide_r10-7_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-7_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
1.<b>&nbsp;</b><br>
Introduction&nbsp;<br>
The information presented in this document is believed to be&nbsp;accurate and reliable.&nbsp;<br>However, no responsibility is assumed by&nbsp;Telit Communications S.p.A. for its use, nor&nbsp;<br>any infringement of patents or other&nbsp;rights&nbsp;of third parties which may result from its&nbsp;<br>use. No license is granted by implication or otherwise under any patent rights of Telit&nbsp;<br>Communications S.p.A.&nbsp;other than for circuitry embodied in&nbsp;Telit products. This&nbsp;<br>document is subject to change&nbsp;without notice.&nbsp;<br>&nbsp;<br>To get more details on which commands and relative parameters are available on&nbsp;<br>different SW versions, please consult the AT Commands Reference Guide.&nbsp;<br>&nbsp;&nbsp;<br>
1.1.<b>&nbsp;</b><br>
Scope&nbsp;<br>
Scope of this document&nbsp;is to provide a broad description of the new IP Easy feature&nbsp;<br>functionalities and details.&nbsp;<br>
1.2.<b>&nbsp;</b><br>
Audience&nbsp;<br>
The reader&nbsp;is expected to have&nbsp;gained sound experience in GPRS/UMTS/HSPA&nbsp;<br>technologies as well as&nbsp;in Telit’s AT Commands interface.&nbsp;<br>
1.3.<b>&nbsp;</b><br>
Contact Information, Support&nbsp;<br>
For general contact, technical support, to report documentation errors and to order&nbsp;<br>manuals, contact Telit’s&nbsp;Technical Support Center (TTSC) at:&nbsp;<br>
&nbsp;<br>
TS-EMEA@telit.com&nbsp;<br>TS-NORTHAMERICA@telit.com&nbsp;<br>TS-LATINAMERICA@telit.com&nbsp;<br>TS-APAC@telit.com&nbsp;<br>
&nbsp;<br>
Alternatively, use: &nbsp;<br>http://www.telit.com/en/products/technical-support-center/contact.php&nbsp;<br>
3<br>T<br>U<br>
U<br>3<br>T<br>
For detailed information about where you can buy the Telit&nbsp;modules or for&nbsp;<br>recommendations on accessories and components visit: &nbsp;<br>http://www.telit.com&nbsp;<br>
3<br>T<br>U<br>
To register&nbsp;for product&nbsp;news and&nbsp;announcements or for&nbsp;product questions contact&nbsp;<br>Telit's Technical Support&nbsp;Center (TTSC).&nbsp;<br>Our aim is&nbsp;to make this guide as helpful as possible. Keep us informed of your&nbsp;<br>comments and suggestions for improvements.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;7 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=8></a><IMG src="Telit_IP_User_Guide_r10-8_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-8_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Telit appreciates feedback from the users of our&nbsp;information.&nbsp;<br>&nbsp;<br>
1.4.<b>&nbsp;</b><br>
Document Organization&nbsp;<br>
This document contains the following&nbsp;chapters:&nbsp;<br>&nbsp;<br>“Chapter 1:&nbsp;“Introduction”&nbsp;provides a scope for this document, target audience, contact&nbsp;<br>
U<br>
U<br>
and support information, and text conventions.&nbsp;<br>&nbsp;<br>“Chapter 2: “Preliminary Operations”&nbsp;is about context setting, activation and data&nbsp;<br>
U<br>
U<br>
states.&nbsp;<br>&nbsp;<br>“Chapter 3: “IP Easy Extention”&nbsp;provides a broad description of The&nbsp;IP Easy feature,&nbsp;<br>
U<br>
U<br>
which allows the Telit module users to contact a device on internet and establish with it&nbsp;<br>a raw data&nbsp;flow over the Internet networks.&nbsp;<br>&nbsp;<br>“Chapter 4: “Easy GSM”&nbsp;This new&nbsp;feature allows the Telit module users to connect to&nbsp;<br>an Internet Service Provider through&nbsp;a GSM CSD&nbsp;call and to use the embedded TCP/IP&nbsp;<br>stack, such as in IP Easy, to contact&nbsp;a device&nbsp;in Internet and establish with it a raw data&nbsp;<br>flow&nbsp;over the Internet networks.&nbsp;<br>&nbsp;<br>“Chapter 5: “Command&nbsp;mode connection”&nbsp;is about the ability for Telit’s modules&nbsp;to&nbsp;<br>
U<br>
U<br>
establish a socket connection in command mode. &nbsp;<br>&nbsp;<br>&nbsp;“Chapter 6: “List of Acronyms”&nbsp;&nbsp;<br>
&nbsp;<br>
1.5.<b>&nbsp;</b><br>
Text Conventions&nbsp;<br>
&nbsp;<br>
Danger – This information MUST be followed&nbsp;or catastrophic equipment failure or&nbsp;<br>
U<br>
bodily injury may occur.&nbsp;<br>&nbsp;<br>Caution or Warning –&nbsp;Alerts the user to&nbsp;important points about integrating the&nbsp;<br>module, if these points are not followed, the module and end user equipment may&nbsp;<br>fail or malfunction.&nbsp;<br>&nbsp;<br>Tip or Information –&nbsp;Provides advice and suggestions&nbsp;that may&nbsp;be useful when&nbsp;<br>integrating the module.&nbsp;<br>&nbsp;<br>All dates are in ISO 8601 format, i.e.&nbsp;YYYY-MM-DD.&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;8 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=9></a><IMG src="Telit_IP_User_Guide_r10-9_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-9_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
1.6.<b>&nbsp;</b><br>
Related Documents&nbsp;<br>
The following is a list of&nbsp;applicable documents downloadable from the Download Zone&nbsp;<br>section of Telit’s website&nbsp;http://www.telit.com&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;AT Command Reference Guide, 80000ST10025a&nbsp;<br>&nbsp;&nbsp;UC864 AT Command Reference Guide, 80304ST10041a&nbsp;<br>&nbsp;&nbsp;Telit GSM/GPRS SW User Guide, 1vv0300784&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization&nbsp;-&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;9 of&nbsp;89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=10></a><IMG src="Telit_IP_User_Guide_r10-10_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-10_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
1.7.<b>&nbsp;</b><br>
Document History&nbsp;<br>
&nbsp;<br>Revision&nbsp;<br>
Date&nbsp;<br>
Changes&nbsp;<br>
ISSUE #0&nbsp;<br>
2007-02-01&nbsp;<br>
Initial release&nbsp;<br>
ISSUE #1&nbsp;<br>
2007-03-14&nbsp;<br>
2.3.2 Easy GPRS – Email sending&nbsp;application: added new examples&nbsp;<br>
ISSUE #2&nbsp;<br>
2007-09-03&nbsp;<br>
updated applicability table&nbsp;<br>new disclaimer &nbsp;<br>
ISSUE #3&nbsp;<br>
2007-11-29&nbsp;<br>
This document has been integrated&nbsp;with Multisocket User Guide and is&nbsp;<br>valid from the 7.02.03 SW&nbsp;release &nbsp;<br>
ISSUE #4&nbsp;<br>
2008-07-16&nbsp;<br>
Added new features related to&nbsp;sw&nbsp;release 7.03.00 or 7.02.05&nbsp;<br>such as: command mode connections and Easy GPRS over GSM&nbsp;<br>
ISSUE#5&nbsp;<br>
2009-07-20&nbsp;<br>
Added new features related to sw&nbsp;release 7.03.01 or 7.02.06 such as:&nbsp;<br>FTP in command mode (par.&nbsp;3.3.4.2, 3.3.5, 3.3.6)&nbsp;<br>
ISSUE#6&nbsp;<br>
2009-07-31&nbsp;<br>
Applied new layout – shifted paragraphs accordingly&nbsp;<br>Added explanation about&nbsp;escape sequence guard&nbsp;time&nbsp;<br>
ISSUE#7&nbsp;<br>
2009-08-24&nbsp;<br>
Added new features related to sw&nbsp;release 7.03.01 or 7.02.06 such as:&nbsp;<br>
&nbsp;&nbsp;automatic context activation,&nbsp;<br>&nbsp;&nbsp;direct control on TCP/IP settings,&nbsp;<br>&nbsp;&nbsp;Listen auto-response, UDP Listen,&nbsp;<br>&nbsp;&nbsp;command mode data sending in Hex format,&nbsp;<br>&nbsp;&nbsp;ICMP/PING handling. &nbsp;<br>
ISSUE#8&nbsp;<br>
2010-07-26&nbsp;<br>
Added new&nbsp;features related to sw&nbsp;release 7.03.02 &nbsp;<br>
&nbsp;<br>
or 7.02.07 such as:&nbsp;<br>
&nbsp;&nbsp;added new socket configuration parameters&nbsp;<br>
&nbsp; (see new #SCFGEXT2 command)&nbsp;<br>
&nbsp;&nbsp;added new command #SSENDEXT for sending data&nbsp;<br>
in command&nbsp;modeAdded new features related to sw release 7.03.02 ,&nbsp;<br>7.02.07 or 10.0.02 such&nbsp;as:&nbsp;<br>
&nbsp;&nbsp;AT#PADFWD and AT#PADCMD commands&nbsp;<br>
Removed parameter no&nbsp;more present in #EMAILD&nbsp;<br>command from the example(pag. 61)&nbsp;<br>Added new features related to SW release 10.0.03&nbsp;such as:&nbsp;<br>
&nbsp;&nbsp;AT#BASE64 command&nbsp;<br>&nbsp;&nbsp;AT#SGACTCFGEXT command&nbsp;<br>
&nbsp;<br>Added note in Easy GSM chapter, about COPS and CSURV commands&nbsp;<br>
ISSUE#9&nbsp;<br>
2010-10-04&nbsp;<br>
Added GL865-DUAL to applicability table&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;10 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=11></a><IMG src="Telit_IP_User_Guide_r10-11_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-11_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
ISSUE#10&nbsp;<br>
2011-03-09&nbsp;<br>
Added new&nbsp;features related to sw&nbsp;release 10.0.04 such as:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;AT#SMTPCL command, it allows to send and email&nbsp;<br>with different types of attachments.&nbsp;<br>#SMTPCL handles attachment, managing&nbsp;MIME&nbsp;headers&nbsp;<br>and encoding if required.&nbsp;<br>&nbsp;<br>
Updated all&nbsp;references&nbsp;from “GPRS” to “GPRS/UMTS/HSPA”(or removed&nbsp;<br>when not required)&nbsp;<br>&nbsp;<br>Correction on&nbsp;#SSENDEXT referenced wrongly&nbsp;<br>as “#SSEND” at page 78; par. 5.2.3&nbsp;<br>&nbsp;<br>&nbsp;<br>Correction on par. 5.2.1(pag.74), &nbsp;<br>reference to&nbsp;#SD / cmd&nbsp;mode &nbsp;<br>(was wrongly indicated as “ATem”)&nbsp;<br>&nbsp;<br>Added general note regarding&nbsp;availability of commands&nbsp;<br>on different SW version&nbsp;<br>&nbsp;<br>Changed title from EASY GPRS User Guide to IP Easy User Guide&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;11 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=12></a><IMG src="Telit_IP_User_Guide_r10-12_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-12_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
2.<b>&nbsp;</b><br>
IP Easy Operations&nbsp;<br>
2.1.<b>&nbsp;</b><br>
Preliminary context parameters setting&nbsp;<br>
2.1.1.<b>&nbsp;</b><br>
Context parameter setting&nbsp;<br>
&nbsp;<br>
The context parameters consist in a set of&nbsp;information identifying the internet entry&nbsp;<br>point interface provided by the ISP. Using these&nbsp;parameters, the network identifies the&nbsp;<br>ISP to be used to gain&nbsp;access to the internet, and defines the value of the IP address&nbsp;for&nbsp;<br>the GPRS device, once connected.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;Send command &nbsp;<br>
&nbsp;<br>
AT+CGDCONT[=[&lt;cid&gt;[,&lt;PDP_type&gt;[,&lt;APN&gt;[,&lt;PDP_addr&gt;[,&lt;d_comp&gt;[,&lt;h_co<br>mp&gt;[,&lt;pd1&gt;[,…[,pdN]]]]]]]]]]&lt;cr&gt;&nbsp;<br>
&nbsp;<br>
where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;- (PDP Context Identifier) numeric parameter which&nbsp;specifies a&nbsp;particular PDP&nbsp;<br>context definition.&nbsp;<br>Values:&nbsp;<br>&nbsp; 1..max&nbsp;- where the value of&nbsp;max&nbsp;is&nbsp;returned by the Test command&nbsp;<br>&nbsp;<br>&lt;PDP_type&gt;&nbsp;- (Packet Data Protocol type) a string parameter which specifies the type&nbsp;<br>of packet data protocol&nbsp;<br>Values:&nbsp;<br>&nbsp; &quot;IP&quot; - Internet Protocol&nbsp;<br>&nbsp; &quot;PPP&quot; - Point to Point Protocol&nbsp;<br>&nbsp;<br>&lt;APN&gt;&nbsp;- (Access Point Name) a string parameter that represents logical name used to&nbsp;<br>select GGSN or external packet&nbsp;data network. If the value&nbsp;is null or omitted, then the&nbsp;<br>subscription value will be&nbsp;requested.&nbsp;<br>&nbsp;<br>&lt;PDP_addr&gt;&nbsp;- a string&nbsp;parameter that identifies the terminal in the address space&nbsp;<br>applicable to the PDP. The allocated address may be read using the&nbsp;+CGPADDR&nbsp;<br>command.&nbsp;<br>
&nbsp;<br>
&lt;d_comp&gt;&nbsp;- numeric parameter that controls PDP data compression&nbsp;<br>Values:&nbsp;<br>&nbsp; 0 -&nbsp;off (default if value is omitted)&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;12 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=13></a><IMG src="Telit_IP_User_Guide_r10-13_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-13_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp; 1 -&nbsp;on&nbsp;<br>
&nbsp;<br>&nbsp;<br>
&lt;h_comp&gt;&nbsp;- numeric parameter that controls PDP header compression&nbsp;<br>Values:&nbsp;<br>&nbsp; 0 -&nbsp;off (default if value is omitted)&nbsp;<br>&nbsp; 1 -&nbsp;on&nbsp;<br>&nbsp;<br>&lt;pd1&gt;, …,&nbsp;&lt;pdN&gt;&nbsp;- zero to N string parameters whose meanings are specific to the&nbsp;<br>&lt;PDP_type&gt;&nbsp;<br>
&nbsp;<br>
NOTE: &nbsp;<br>&nbsp;<br>A special form&nbsp;of the Set command,&nbsp;+CGDCONT=&lt;cid&gt;, causes the values for context&nbsp;<br>number&nbsp;&lt;cid&gt;&nbsp;to become undefined.&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Issuing&nbsp;AT+CGDCONT&lt;CR&gt;&nbsp;is the same as issuing the Read command.&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Issuing&nbsp;AT+CGDCONT=&lt;CR&gt;&nbsp;returns the&nbsp;OK&nbsp;result code.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;Wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
context parameters have been&nbsp;<br>
proceed ahead&nbsp;<br>
successfully&nbsp;stored&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check parameters and retry&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;13 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=14></a><IMG src="Telit_IP_User_Guide_r10-14_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-14_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
For example:&nbsp;<br>
&nbsp;<br>
1-&nbsp;Let's assume you want to set-up the&nbsp;context number 1(cid)&nbsp;with your GPRS&nbsp;<br>
connection parameters:&nbsp;<br>&nbsp;<br>
APN: ibox.tim.it&nbsp;<br>IP address: dynamically&nbsp;assigned by the ISP&nbsp;<br>Packet Data&nbsp;Protocol type: Internet Protocol (IP)&nbsp;<br>Data compression: OFF&nbsp;<br>Header compression: OFF&nbsp;<br>
&nbsp;&nbsp;&nbsp;<br>
command:&nbsp;<br>&nbsp;<br>AT+CGDCONT= 1,&quot;IP&quot;,&quot;ibox.tim.it&quot;,&quot;0.0.0.0&quot;,0,0 &lt;cr&gt;&nbsp;<br>
response&nbsp;<br>OK&nbsp;<br>
2.1.2.<b>&nbsp;</b><br>
Minimum Quality of&nbsp;the Service Requested&nbsp;<br>
&nbsp;<br>
The minimum quality of service requested parameters represent the boundary under&nbsp;<br>which the connection quality is not anymore acceptable and&nbsp;will be terminated.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;send command &nbsp;<br>
&nbsp;<br>
AT+CGQMIN=&lt;cid&gt;,&lt;precedence&gt;,&lt;delay&gt;,&lt;reliability&gt;,&lt;peak&gt;,&lt;mean&gt;&lt;cr&gt;&nbsp;<br>
&nbsp;<br>
where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;- &nbsp;is&nbsp;the index number of the desired&nbsp;context to be written (up&nbsp;to 5 different&nbsp;<br>context).&nbsp;<br>&lt;precedence&gt;&nbsp;&nbsp;&nbsp;- is the&nbsp;precedence class.&nbsp;&nbsp;It is applied when&nbsp;the network has a heavy&nbsp;<br>duty and user precedence must be followed to ensure operations, the higher the&nbsp;<br>priority the better the service.&nbsp;<br>Values:&nbsp;<br>&nbsp;&nbsp;0 - subscribed (default)&nbsp;<br>&nbsp;&nbsp;1 - High priority&nbsp;<br>&nbsp;&nbsp;2 - Normal priority&nbsp;<br>&nbsp;&nbsp;3 - Low&nbsp;priority&nbsp;<br>&nbsp;<br>&nbsp;<br>&lt;delay&gt;&nbsp;- is the delay&nbsp;class. It represents&nbsp;the maximum&nbsp;allowable time delay class&nbsp;<br>between the&nbsp;sending and the reception of a packet.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;14 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=15></a><IMG src="Telit_IP_User_Guide_r10-15_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-15_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Values:&nbsp;<br>&nbsp;&nbsp;0 - subscribed (default)&nbsp;<br>&nbsp;&nbsp;1 - delay class 1&nbsp;<br>&nbsp;&nbsp;2 - delay class 2&nbsp;<br>&nbsp;&nbsp;3 - delay class 3&nbsp;<br>&nbsp;&nbsp;4 - delay class 4&nbsp;(best effort)&nbsp;<br>&nbsp;<br>&lt;reliability&gt;&nbsp;- is the connection reliability class.&nbsp;It represents the connection reliability&nbsp;<br>requested, the higher is&nbsp;the number the less reliable is the data exchanged.&nbsp;<br>Values:&nbsp;<br>&nbsp;&nbsp;0 - subscribed (default)&nbsp;<br>&nbsp;&nbsp;1 - reliability class 1 (acknowledged&nbsp;GTP,LLC and RLC; protected data)&nbsp;<br>&nbsp;&nbsp;2 - reliability class 2 (unacknowledged GTP,&nbsp;acknowledged&nbsp;LLC and RLC; protected&nbsp;<br>data)&nbsp;<br>&nbsp;&nbsp;3 - reliability class 3 (unacknowledged GTP and LLC, acknowledged RLC; protected&nbsp;<br>data)&nbsp;<br>&nbsp;&nbsp;4 - reliability class 4 (unacknowledged GTP,LLC&nbsp;and RLC; protected data)&nbsp;<br>&nbsp;&nbsp;5 - reliability class 5 (unacknowledged GTP,LLC&nbsp;and RLC; unprotected data)&nbsp;<br>&nbsp;<br>&lt;peak&gt;&nbsp;- &nbsp;is the peak data transfer throughput&nbsp;<br>Values:&nbsp;<br>
0 - subscribed (default)&nbsp;<br>1 - up to&nbsp;7,8&nbsp;kbps&nbsp;<br>2 - up to&nbsp;15,6 &nbsp;kbps&nbsp;<br>3 - up to&nbsp;31,3 &nbsp;kbps&nbsp;<br>4 - up to&nbsp;62,5 &nbsp;kbps&nbsp;<br>5 - up to&nbsp;125&nbsp;kbps&nbsp;<br>6 - up to&nbsp;250&nbsp;kbps&nbsp;<br>7 - up to&nbsp;500&nbsp;kbps&nbsp;<br>8 - up to&nbsp;1000&nbsp;kbps&nbsp;<br>9 - up to&nbsp;2000&nbsp;kbps&nbsp;<br>
&lt;mean&gt;&nbsp;- is&nbsp;the mean data transfer throughput&nbsp;<br>Values:&nbsp;<br>
0 - subscribed (default)&nbsp;<br>1 - up to&nbsp; 0,8&nbsp;kbps&nbsp;<br>2 - up to&nbsp; 1,6&nbsp;kbps&nbsp;<br>3 - up to&nbsp; 3,9&nbsp; kbps&nbsp;<br>4 - up to&nbsp; 7,8&nbsp; kbps&nbsp;<br>5 - up to&nbsp;15,6 kbps&nbsp;<br>6 - up to&nbsp;39&nbsp;&nbsp;kbps&nbsp;<br>7 - up to&nbsp;78&nbsp;kbps&nbsp;<br>8 - up to&nbsp;156&nbsp;kbps&nbsp;<br>9 - up to&nbsp;390&nbsp;kbps&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;15 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=16></a><IMG src="Telit_IP_User_Guide_r10-16_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-16_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
10 - up&nbsp;to 7,6 Mbps&nbsp;<br>11 - up&nbsp;to 15.2 Mbps&nbsp;<br>12 - up&nbsp;to 38.2 Mbps&nbsp;<br>13 - up&nbsp;to 76.3 Mbps&nbsp;<br>14 - up&nbsp;to 152&nbsp;Mbps&nbsp;<br>15 - up&nbsp;to 381&nbsp;Mbps&nbsp;<br>16 - up&nbsp;to 762&nbsp;Mbps&nbsp;<br>17 - up&nbsp;to 1525 Mbps&nbsp;<br>18 - up&nbsp;to 3815 Mbps&nbsp;<br>31 - Best Effort&nbsp;<br>
&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
context parameters have been&nbsp;<br>
proceed ahead&nbsp;<br>
successfully&nbsp;stored&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check parameters and retry.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
NOTE:&nbsp;<br>&nbsp;<br>If your minimum requirements are&nbsp;too high, then&nbsp;it can happen that it is impossible to&nbsp;<br>establish a connection, because the network has not enough resources to&nbsp;guarantee&nbsp;<br>that quality&nbsp;of service. If does this happen, then&nbsp;you shall try reducing your minimum&nbsp;<br>quality requirements.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
For example:&nbsp;<br>&nbsp;<br>
1-&nbsp;&nbsp;Let's assume you want to set-up the&nbsp;GPRS&nbsp;context number 1(cid) written before&nbsp;with&nbsp;<br>
your GPRS min QoS parameters:&nbsp;<br>&nbsp;<br>Precedence&nbsp;class: Normal priority &nbsp;&nbsp;<br>Delay class:&nbsp;subscribed&nbsp;<br>Reliability class: subscribed&nbsp;<br>Peak throughput: not less than 15,6&nbsp;&nbsp;kbps&nbsp;<br>Mean throughput: not less than 7,8&nbsp;&nbsp;kbps&nbsp;<br>&nbsp;<br>command:&nbsp;<br>AT+CGQMIN= 1,2,0,0,5,4 &lt;cr&gt;&nbsp;<br>
response&nbsp;<br>OK&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;16 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=17></a><IMG src="Telit_IP_User_Guide_r10-17_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-17_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Telit suggests to setup&nbsp;AT+CGQMIN=1,0,0,0,0,0&nbsp;<br>
2.1.3.<b>&nbsp;</b><br>
Requested Quality of&nbsp;the Service&nbsp;<br>
&nbsp;<br>
The requested quality of&nbsp;service parameters represents the connection quality that is&nbsp;<br>requested to the network on context activation.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;send command &nbsp;<br>
&nbsp;<br>
AT+CGQREQ=&lt;cid&gt;,&lt;precedence&gt;,&lt;delay&gt;,&lt;reliability&gt;,&lt;peak&gt;,&lt;mean&gt;&lt;cr&gt;&nbsp;<br>
&nbsp;<br>
where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;-&nbsp;is the index number of the&nbsp;desired context to be written (up&nbsp;to 5 different&nbsp;<br>context).&nbsp;<br>&nbsp;<br>&lt;precedence&gt;&nbsp;&nbsp;- is the precedence class&nbsp;<br>&nbsp;<br>&lt;delay&gt;&nbsp;- is the delay class&nbsp;<br>&nbsp;<br>&lt;reliability&gt;&nbsp;- is the connection reliability class&nbsp;<br>&nbsp;<br>&lt;peak&gt;&nbsp;&nbsp;- is the peak data transfer throughput&nbsp;<br>&nbsp;<br>&lt;mean&gt;&nbsp;- is&nbsp;the mean data transfer throughput&nbsp;<br>&nbsp;<br>Parameters&nbsp;assume the same values&nbsp;as in the previous section.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
context parameters have been&nbsp;<br>
proceed ahead&nbsp;<br>
successfully&nbsp;stored&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check parameters and retry&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;17 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=18></a><IMG src="Telit_IP_User_Guide_r10-18_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-18_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
For example:&nbsp;<br>&nbsp;<br>
1-&nbsp;&nbsp;Let's assume you want to set-up the&nbsp;context number 1(cid)&nbsp;written before with your&nbsp;<br>
GPRS requested QoS parameters:&nbsp;<br>&nbsp;<br>Precedence&nbsp;class: High&nbsp;priority &nbsp;&nbsp;<br>Delay class:&nbsp;subscribed&nbsp;<br>Reliability class: subscribed&nbsp;<br>Peak throughput: subscribed&nbsp;<br>Mean throughput: best effort&nbsp;<br>&nbsp;<br>command:&nbsp;<br>AT+CGQREQ= 1,1,0,0,0,31 &lt;cr&gt;&nbsp;<br>
response&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Telit suggests to setup&nbsp;AT+CGQMIN=1,0,0,3,0,0&nbsp;<br>
2.1.4.<b>&nbsp;</b><br>
3G Minimum Quality of the Service Requested1&nbsp;<br>
The 3G minimum quality of service requested parameters represent the boundary&nbsp;<br>under which the 3G&nbsp;connection quality is not anymore acceptable and will be&nbsp;<br>terminated.&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;send command&nbsp;&nbsp;<br>
&nbsp;<br>AT+CGEQMIN=[&lt;cid&gt;[,&lt;traffic class&gt;[,&lt;maximum bitrate UL&gt;[,&lt;maximum&nbsp;<br>bitrate DL&gt;[,&lt;guaranteed bitrate UL&gt;[,&lt;guaranteed bitrate DL&gt;[,&lt;delivery&nbsp;<br>order&gt;[,&lt;maximum SDU size&gt;[,&lt;SDU error ratio&gt;[,&lt;residual bit error&nbsp;<br>ratio&gt;[,&lt;delivery of erroneous SDUs&gt;[,&lt;transfer delay&gt;[,&lt;traffic&nbsp;handling&nbsp;<br>priority&gt;]]]]]]]]]]]]]&lt;cr&gt;&nbsp;<br>&nbsp;<br>where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;- &nbsp;the index number of the desired context to be written (up to 16 different&nbsp;<br>context).&nbsp;<br>&lt;traffic class&gt;&nbsp;&nbsp;- a numeric parameter that indicates the type of application for which&nbsp;<br>the UMTS bearer service is optimised.&nbsp;<br>
0 – conversational&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>1&nbsp; Applicable&nbsp;products:&nbsp;UC864-G, UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO, UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;18 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=19></a><IMG src="Telit_IP_User_Guide_r10-19_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-19_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
1 – streaming&nbsp;<br>2 - &nbsp;interactive&nbsp;<br>3 - background&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;4- subscribed value (default)&nbsp;<br>&nbsp;<br>&lt;maximum bitrate UL&gt;&nbsp;- a numeric&nbsp;parameter that indicates the maximum number&nbsp;of&nbsp;<br>kbits/s delivered to UMTS&nbsp;(up-link traffic) at a SAP. As an example a bitrate of 32kbit/s&nbsp;<br>would be specified&nbsp;as ‘32’(e.g. AT+CGEQMIN=…,32,…)(refer TS24.008 [8] subclause&nbsp;<br>10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0 –&nbsp;subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;1…512&nbsp;<br>&nbsp;<br>&lt;maximum bitrate&nbsp;DL&gt;&nbsp;- a numeric parameter that indicates the maximum number of&nbsp;<br>kbits/s delivered by UMTS (down-link traffic) at a SAP. As an example a bitrate&nbsp;of&nbsp;<br>32kbit/s would be specified&nbsp;as ‘32’(e.g. AT+CGEQMIN=…,32,…)(refer TS 24.008 [8]&nbsp;<br>subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0 –&nbsp;subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;1…16000&nbsp;<br>&nbsp;<br>&lt;guaranteed bitrate UL&gt;&nbsp;- a numeric parameter that indicates the guaranteed number&nbsp;<br>of kbits/s delivered by&nbsp;UMTS (up-link traffic)&nbsp;at a SAP(provided that there is data to&nbsp;<br>deliver). As&nbsp;an example a bitrate of 32kbit/s would&nbsp;be specified as ‘32’(e.g.&nbsp;<br>AT+CGEQMIN=…,32,…)(refer TS&nbsp;24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;0&nbsp;–&nbsp;subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;1..512&nbsp;<br>&nbsp;<br>&lt;guaranteed bitrate DL&gt;&nbsp;- a numeric parameter that indicates the guaranteed number&nbsp;<br>of kbits/s delivered by UMTS (down-link traffic) at a SAP (provided that there is data to&nbsp;<br>deliver). As&nbsp;an example a bitrate of 32kbit/s would&nbsp;be specified as ‘32’(e.g.&nbsp;<br>AT+CGEQMIN=…,32,…) (refer TS&nbsp;24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;0&nbsp;–&nbsp;subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;1…16000&nbsp;<br>&nbsp;<br>&lt;delivery order&gt;&nbsp;- a numeric parameter that indicates whether the UMTS bearer shall&nbsp;<br>provide in-sequence SDU deliver or&nbsp;not.&nbsp;<br>
0 – no&nbsp;<br>1 – yes&nbsp;<br>2 – subscribed value (default)&nbsp;<br>
&nbsp;<br>&lt;maximum&nbsp;SDU size&gt;&nbsp;- a numeric parameter(1,2,3,…)&nbsp;that indicates&nbsp;the maximum&nbsp;<br>allowed SDU size in octets(refer TS 24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;0 –&nbsp;subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;1…1520&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;19 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=20></a><IMG src="Telit_IP_User_Guide_r10-20_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-20_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&lt;SDU error&nbsp;ratio&gt;&nbsp;-&nbsp;a string parameter that indicates the target value for the fraction&nbsp;<br>of SDUs lost&nbsp;or detected as erroneous. SDU error ratio is&nbsp;defined only for conforming&nbsp;<br>traffic. The value is specified as ‘mEe’. As&nbsp;an example a target SDU error ration of 5*10-<br>3&nbsp;would be specified as ‘5E3’ (e.g. AT+CGEQMIN=…”5E3”,…)(refer TS 24.008&nbsp;[8]&nbsp;<br>subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“0E0” (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E1”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E2”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“7E3”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E3”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E4”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E5”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;“1E6”&nbsp;<br>&nbsp;<br>&lt;residual bit error ratio&gt;&nbsp;- a string parameter that indicates the target value for&nbsp;the&nbsp;<br>undetected&nbsp;bit error ratio in the delivered SDUs. If no error detection is requested,&nbsp;<br>Residual bit error ratio indicates the bit error ratio in the&nbsp;delivered SDUs. The value is&nbsp;<br>specified as&nbsp;‘mEe’. As an example &nbsp;a tartet residual bit error ration of&nbsp;5*10-3&nbsp;would be&nbsp;<br>specified&nbsp;as ‘5E3’( e.g. AT+CGEQMIN=…,”5E3”,…)(refer TS 24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “0E0” (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “5E2”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “1E2”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “5E3”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “4E3”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “1E3”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “1E4”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “1E5”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “1E6”&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; “6E8”&nbsp;<br>&nbsp;<br>&lt;delivery of&nbsp;erroneous SDUs&gt;&nbsp;- a numeric parameter that indicates whether SDUs&nbsp;<br>detected as&nbsp;erroneous shall be delivered or not.&nbsp;<br>
0 - no&nbsp;<br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;1 –&nbsp;yes&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;2&nbsp;– no detect&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;3&nbsp;– subscribed value (default)&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;20 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=21></a><IMG src="Telit_IP_User_Guide_r10-21_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-21_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&lt;transfer delay&gt;&nbsp;-&nbsp;&nbsp;a numeric parameter (0,1,2,…) that&nbsp;indicates the targeted time&nbsp;<br>between request to&nbsp;transfer an SDU at on SAP to its delivery at the other SAP, in&nbsp;<br>milliseconds (refer TS 24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0&nbsp;– subscribed value (default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;100…4000&nbsp;<br>&nbsp;<br>&lt;traffic handling priority&gt;&nbsp;-&nbsp;&nbsp;a numeric parameter(1,2,3,…)&nbsp;that specifies the relative&nbsp;<br>importance&nbsp;for handling&nbsp;of all SDUs&nbsp;belonging to the UMTS bearer compared to the&nbsp;<br>SUDs of&nbsp;other bearers ( refer TS 24.008 [8] subclause 10.5.6.5).&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; 0&nbsp;–&nbsp;subscribed&nbsp;value&nbsp;<br>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;1…3&nbsp;<br>&nbsp;&nbsp;wait for response:&nbsp;<br>&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
context parameters have been&nbsp;<br>
proceed ahead&nbsp;<br>
successfully&nbsp;stored&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check parameters and retry.&nbsp;<br>
&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>If your minimum requirements are&nbsp;too high, then&nbsp;it can happen that it is impossible to&nbsp;<br>establish a PDP activation, because the network has not enough resources to&nbsp;<br>guarantee that quality of service. If does this happen, then you shall try reducing your&nbsp;<br>minimum quality requirements.&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Telit suggests to setup AT+CGEQMIN=1,4,0,0,0,0,2,0,”0E0”,”0E0”,3,0,0 (default setting&nbsp;<br>value)&nbsp;<br>&nbsp;<br>&nbsp;<br>
2.1.5.<b>&nbsp;</b><br>
3G Requested Quality of the Service2&nbsp;<br>
The 3G requested quality of service parameters&nbsp;represents the connection quality that&nbsp;<br>is requested to the UMTS network on PDP context activation.&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;send command&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>2&nbsp;Applicable products: UC864-G, UC864-E,&nbsp;UC864-E-DUAL,&nbsp;UC864-E-AUTO, UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;21 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=22></a><IMG src="Telit_IP_User_Guide_r10-22_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-22_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
AT+CGEQREQ=[&lt;cid&gt;[,&lt;traffic class&gt;[,&lt;maximum bitrate UL&gt;[,&lt;maximum&nbsp;<br>bitrate DL&gt;[,&lt;guaranteed bitrate UL&gt;[,&lt;guaranteed bitrate DL&gt;[,&lt;delivery&nbsp;<br>order&gt;[,&lt;maximum SDU size&gt;[,&lt;SDU error ratio&gt;[,&lt;residual bit error&nbsp;<br>ratio&gt;[,&lt;delivery of erroneous SDUs&gt;[,&lt;transfer delay&gt;[,&lt;traffic&nbsp;handling&nbsp;<br>priority&gt;]]]]]]]]]]]]]&lt;cr&gt;&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;- &nbsp;is the index number of the desired context to be&nbsp;written (up to 16 different&nbsp;<br>context).&nbsp;<br>&lt;traffic class&gt;&nbsp;&nbsp;<br>&lt;maximum bitrate&nbsp;UL&gt;&nbsp;&nbsp;<br>&lt;maximum bitrate&nbsp;DL&gt;&nbsp;<br>&lt;guaranteed bitrate UL&gt;&nbsp;<br>&lt;guaranteed bitrate DL&gt;&nbsp;<br>&lt;delivery order&gt;&nbsp;<br>&lt;maximum SDU&nbsp;size&gt;&nbsp;<br>&lt;SDU error&nbsp;ratio&gt;&nbsp;<br>&lt;residual bit error ratio&gt;&nbsp;<br>&lt;delivery of&nbsp;erroneous SDUs&gt;&nbsp;<br>&lt;transfer delay&gt;&nbsp;<br>&lt;traffic handling priority&gt;&nbsp;<br>&nbsp;<br>Parameters&nbsp;assume the same values&nbsp;as in the previous section.&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;wait for response:&nbsp;<br>&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
context parameters have been&nbsp;<br>
proceed ahead&nbsp;<br>
successfully&nbsp;stored&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check parameters and retry&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Telit suggests to setup AT+CGEQREQ=1,4,0,0,0,0,2,0,”0E0”,”0E0”,3,0,0(default setting&nbsp;<br>value)&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;22 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=23></a><IMG src="Telit_IP_User_Guide_r10-23_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-23_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
2.2.<b>&nbsp;</b><br>
Context activation and data state entering&nbsp;<br>
&nbsp;<br>
This operation corresponds to the&nbsp;dial and connect of a CSD&nbsp;GSM data call issued to an&nbsp;<br>internet service provider.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;send command &nbsp;<br>
&nbsp;<br>
ATD*99***&lt;cid&gt;#&lt;cr&gt;&nbsp;<br>&nbsp;<br>where:&nbsp;&nbsp;<br>&nbsp;<br>&lt;cid&gt;&nbsp;- is the index number of the desired context to be used (up to&nbsp;5 different context)&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
CONNECT&nbsp;<br>
&nbsp;connection is being processed<br>
proceed ahead with the&nbsp;<br>
authentication &amp; Packed data&nbsp;<br>
protocol&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check context parameters and&nbsp;<br>
retry. See par.2.2.1,&nbsp;2.2.2, 2.2.3<br>
check also Network&nbsp;<br>
registration status.&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
check context parameters and&nbsp;<br>
+CME ERROR: &lt;error code&gt;&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
retry. See par.2.2.1,&nbsp;2.2.2, 2.2.3<br>
check also Network&nbsp;<br>
registration status.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
For example:&nbsp;<br>&nbsp;<br>1- Let's assume you want to activate and enter the data state with context number&nbsp;<br>1(cid) written before with your requested QoS parameters:&nbsp;<br>&nbsp;<br>command:&nbsp;<br>ATD*99***1# &lt;cr&gt;&nbsp;<br>
response&nbsp;<br>CONNECT&nbsp;<br>
&nbsp;<br>At this point, your application should&nbsp;start the PPP protocol with the LCP Exchange&nbsp;<br>phase:&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;23 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=24></a><IMG src="Telit_IP_User_Guide_r10-24_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-24_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;LCP Configure Request&nbsp;<br>&nbsp;LCP Configure Acknowledge&nbsp;<br>&nbsp;<br>
&nbsp;PAP Authentication&nbsp;&nbsp;<br>&nbsp;PAP-Ack&nbsp;<br>
&nbsp;<br>&nbsp;NCP (IP) Configure Request&nbsp;<br>&nbsp;NCP (IP) Configure Acknowledge&nbsp;<br>&nbsp;<br>At this point&nbsp;the TCP/IP - PPP protocol stack&nbsp;is up and data packets can be exchanged.&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Explanation&nbsp;of TCP/IP&nbsp;and PPP protocol stack&nbsp;is beyond the scope of this document.&nbsp;<br>Further information on&nbsp;the LCP protocol and&nbsp;PPP protocol definition can be found&nbsp;in&nbsp;<br>the RFC1661. Further information&nbsp;on the PAP&nbsp;protocol definition can&nbsp;be found in&nbsp;the&nbsp;<br>RFC1334. Further information on the IPCP protocol definition can be found in&nbsp;the&nbsp;<br>RFC1332.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>The CONNECT result code is raised before complete connection establishment.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;24 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=25></a><IMG src="Telit_IP_User_Guide_r10-25_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-25_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
2.3.<b>&nbsp;</b><br>
Data state exit&nbsp;<br>
&nbsp;<br>&nbsp;LCP Terminate Request&nbsp;<br>&nbsp;LCP Terminate Acknowledge&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;Wait for&nbsp;NO CARRIER&nbsp;response.&nbsp;<br>
&nbsp;<br>
or in alternative: &nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;send escape sequence:&nbsp;&nbsp;<br>
&nbsp;<br>
+++&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;wait for 2s (&nbsp;default silence time)&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
Telit module is in command&nbsp;<br>
proceed ahead&nbsp;<br>
mode now&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check command syntax and&nbsp;<br>
timing and retry&nbsp;<br>
NO CARRIER&nbsp;<br>
connection has been closed&nbsp;<br>
proceed ahead&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;send command&nbsp;&nbsp;<br>
&nbsp;<br>
ATH&lt;cr&gt;&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;wait for response:&nbsp;<br>
&nbsp;<br>
Response&nbsp;<br>
Reason&nbsp;<br>
Action&nbsp;<br>
OK&nbsp;<br>
connection has been closed&nbsp;<br>
&nbsp;<br>
ERROR&nbsp;<br>
some error&nbsp;occurred&nbsp;<br>
check command syntax and&nbsp;<br>
retry&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;25 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=26></a><IMG src="Telit_IP_User_Guide_r10-26_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-26_2.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-26_3.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.<b>&nbsp;</b><br>
IP Easy Extension&nbsp;<br>
3.1.<b>&nbsp;</b><br>
Overview&nbsp;<br>
&nbsp;<br>The IP Easy&nbsp;feature&nbsp;allows the&nbsp;Telit&nbsp;module&nbsp;users to contact a device&nbsp;on internet&nbsp;and&nbsp;<br>establish with it a raw data flow over&nbsp;the GPRS/UMTS/HSPA&nbsp;and Internet networks.&nbsp;<br>This&nbsp;&nbsp;feature&nbsp;&nbsp;can&nbsp;&nbsp;be&nbsp;&nbsp;seen&nbsp;&nbsp;as&nbsp;&nbsp;a&nbsp;&nbsp;way&nbsp;&nbsp;to&nbsp;&nbsp;obtain a &quot;virtual&quot; serial connection between the&nbsp;<br>Application&nbsp;Software on&nbsp;the Internet machine involved and&nbsp;the controller of the&nbsp;Telit&nbsp;<br>module, regardless of all the software stacks underlying.&nbsp;<br>An example of the protocol stack involved in the devices is reported:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>
This specific implementation allows the devices to interface to the&nbsp;Telit module&nbsp;via&nbsp;<br>GPRS/UMTS/HSPA and Internet packets without&nbsp;the need of&nbsp;an internal TCP/IP stack&nbsp;<br>since this function is already embedded inside the module.&nbsp;&nbsp;<br>
&nbsp;<br>
As a new&nbsp;functionality of Telit modules, multisocket is an extension of&nbsp;the Telit IP Easy&nbsp;<br>feature, which allows the user to&nbsp;have two activated contexts (this&nbsp;means two different&nbsp;<br>IP address), more than&nbsp;one socket&nbsp;connection -- with a maximum of 6 connections --&nbsp;<br>and simultaneous FTP client and EMAIL client services.&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;26 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=27></a><IMG src="Telit_IP_User_Guide_r10-27_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-27_2.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-27_3.png"><br>
<IMG src="Telit_IP_User_Guide_r10-27_4.png"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
The basic idea behind multisocket is&nbsp;the possibility of suspend a socket connection with&nbsp;<br>the escape sequence +++.&nbsp;<br>&nbsp;<br>With the #SKTD command it is possible to open a socket&nbsp;connection and get online.&nbsp;<br>When the online&nbsp;activities are concluded,&nbsp;the +++ sequence is used to close the&nbsp;<br>connection (see the figure below).&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
The green part represents the module command&nbsp;mode while the red part is the online&nbsp;<br>mode. &nbsp;<br>&nbsp;<br>Now, the online mode can be suspended with the escape sequence +++ by&nbsp;using the&nbsp;<br>multisocket&nbsp;feature. During suspend mode the data received by the socket will be&nbsp;<br>buffered, which data will be displayed after&nbsp;socket resumption, as shown in the figure&nbsp;<br>below:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>This new feature allows users to switch between online mode and command mode&nbsp;<br>without closing the connection or even opening another&nbsp;socket (or&nbsp;resuming the&nbsp;<br>suspended one), FTP or&nbsp;EMAIL connection.&nbsp;&nbsp;<br>&nbsp;<br>Another new feature is&nbsp;the possibility to associate any socket connection to a specific&nbsp;<br>context. This means that we can use different&nbsp;IP addresses for connections (max 2).&nbsp;<br>The Socket Identifier&nbsp;is called Connection Id -- selects which socket we want to use&nbsp;<br>from 1 up to 6 -- and every Connection Id is associated to a context.&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;27 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=28></a><IMG src="Telit_IP_User_Guide_r10-28_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-28_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.2.<b>&nbsp;</b><br>
Commands Overview&nbsp;<br>
&nbsp;<br>
What follows are new AT command sequences that activate context, sets and opens&nbsp;the&nbsp;<br>socket connection. There will be explained a new listen command and how to use&nbsp;FTP&nbsp;<br>and Easy GPRS at the same time.&nbsp;&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>For more detailed AT&nbsp;commands and parameters definitions please consult the AT&nbsp;<br>Commands Reference Guide.&nbsp;<br>
&nbsp;<br>
3.2.1.<b>&nbsp;</b><br>
IP Easy&nbsp;Outgoing Connection&nbsp;<br>
&nbsp;<br>
The IP Easy feature provides a way&nbsp;to place outgoing&nbsp;TCP/UDP connections and keep&nbsp;<br>the same IP address after a connection is made, leaving the context active.&nbsp;<br>The steps required to open a socket and close it without closing the GRPS context are:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;configuring the GPRS/UMTS/HSPA Access&nbsp;<br>&nbsp;&nbsp;configuring the embedded TCP/IP stack behavior&nbsp;<br>&nbsp;&nbsp;defining the Internet Peer to be contacted&nbsp;<br>&nbsp;&nbsp;request the context to be activated&nbsp;<br>&nbsp;&nbsp;request the socket connection to be&nbsp;opened&nbsp;<br>&nbsp;&nbsp;exchange data&nbsp;<br>&nbsp;&nbsp;close the TCP connection while keeping the context active&nbsp;<br>
&nbsp;<br>
All these steps are achieved through AT commands. As far as the&nbsp;common modem&nbsp;<br>interface, two logical statuses are involved: command mode and data traffic mode.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;In&nbsp;Command&nbsp;Mode&nbsp;(CM),&nbsp;some&nbsp;AT commands are provided to&nbsp;configure the&nbsp;<br>Data Module Internet stack and to start up the data traffic.&nbsp;<br>&nbsp;&nbsp;In data traffic mode (Socket Mode, SKTM), the&nbsp;client can send/receive a raw&nbsp;<br>data stream which will be encapsulated in&nbsp;the previously configured&nbsp;TCP /&nbsp;IP&nbsp;<br>packets which will be sent to the other side of the network&nbsp;and vice versa. Control&nbsp;<br>plane of ongoing socket&nbsp;connection is deployed internally to the module.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;28 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=29></a><IMG src="Telit_IP_User_Guide_r10-29_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-29_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.2.1.1.<b>&nbsp;</b><br>
Configuring the GPRS/UMTS/HSPA access&nbsp;<br>
&nbsp;<br>
The access configuration is done by&nbsp;setting:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;the context number 1 parameters (see +CGDCONT command)&nbsp;<br>&nbsp;&nbsp;the Authentication parameters: User Name and Password (see command&nbsp;<br>#SGACT)&nbsp;<br>
&nbsp;<br>
3.2.1.2.<b>&nbsp;</b><br>
Configuring the embedded TCP/IP stack&nbsp;<br>
&nbsp;<br>
The TCP/IP&nbsp;stack behavior must be configured by setting:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;the packet default size &nbsp;<br>&nbsp;&nbsp;the data sending timeout&nbsp;&nbsp;<br>&nbsp;&nbsp;the socket inactivity timeout &nbsp;<br>
&nbsp;<br>
Before opening a connection we&nbsp;have to set the socket parameters with the new&nbsp;#SCFG&nbsp;<br>command. It&nbsp;is possible to set all the timeout&nbsp;values and&nbsp;packet size&nbsp;for each socket&nbsp;<br>connection with a single AT command. The command syntax is:&nbsp;<br>
&nbsp;<br>AT#SCFG =&nbsp;&lt;Conn Id&gt;, &lt;Cntx Id&gt;, &lt;Pkt sz&gt;, &lt;Global To&gt;, &lt;Conn To&gt;, &lt;Tx To&gt;&nbsp;<br>&nbsp;<br>
Where:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
Conn Id&nbsp;&nbsp;&nbsp;<br>
-the connection identifier&nbsp;<br>
&nbsp;<br>
Cntx Id&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br>
-the context identifier&nbsp;<br>
&nbsp;<br>
Pkt sz &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br>
-the minimum data packet sent to the net&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
(default 300&nbsp;bytes)&nbsp;<br>
&nbsp;<br>
Global To&nbsp;&nbsp;<br>
-inactivity timeout (default 90 sec.)&nbsp;<br>
&nbsp;<br>
Conn To &nbsp;&nbsp;&nbsp;<br>
-connection timeout (default 60 sec,&nbsp;expressed in&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
tenths of second)&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Tx To &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br>
-data sending timeout (default 5 sec, expressed in&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
tenths of second)&nbsp;<br>
&nbsp;<br>
The first two parameters are new and they&nbsp;represent the association between the&nbsp;<br>socket connection and the context&nbsp;set with +CGDCONT. It means that we can have&nbsp;<br>socket connection working on different IP addresses.&nbsp;<br>The other parameters replace the old IP&nbsp;Easy commands #DSTO,&nbsp;#SKTTO,&nbsp;#SKTCT and&nbsp;<br>#PKTSZ.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;29 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=30></a><IMG src="Telit_IP_User_Guide_r10-30_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-30_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
If we try to&nbsp;modify the socket configuration of&nbsp;an online connection, an&nbsp;error&nbsp;will appear.&nbsp;<br>So it’s recommended to set&nbsp;the socket configuration at the beginning. It is strongly&nbsp;<br>recommended to leave the first Connection Id associated to context one to allow&nbsp;<br>simultaneous FTP, SMTP and IP Easy services. &nbsp;&nbsp;<br>The values set with this command are saved in NVM.&nbsp;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>
&nbsp;<br>
We want to associate the Connection Id number 2 to&nbsp;the context number 3 with a&nbsp;<br>minimum packet size of 512 bytes,&nbsp;global timeout of 30 sec, connection timeout of 30&nbsp;<br>sec and transmission timeout of 10&nbsp;sec.&nbsp;<br>&nbsp;<br>Command:&nbsp;<br>&nbsp;<br>AT#SCFG = 2, 3, 512, 30, 300,100&nbsp;<br>
&nbsp;<br>Answer:&nbsp;<br>&nbsp;<br>
OK&nbsp;if command execution is correct&nbsp;<br>
ERROR&nbsp;if a parameter is&nbsp;wrong or the connection Id is working online&nbsp;<br>
&nbsp;<br>
3.2.1.3.<b>&nbsp;</b><br>
Request the context to&nbsp;be activated&nbsp;<br>
&nbsp;<br>
This command allows&nbsp;activation of&nbsp;one&nbsp;of the contexts defined with&nbsp;AT command&nbsp;<br>+CGDCONT. With multisocket it is possible to&nbsp;activate simultaneously two contexts&nbsp;of&nbsp;<br>the five that have been set. We&nbsp;can write username&nbsp;and password&nbsp;directly&nbsp;from&nbsp;<br>command line (if required). At least one Connection Id&nbsp;must be associated to the&nbsp;<br>context we&nbsp;want to activate; otherwise an error will be appear.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>#SGACT= &lt;Cntx Id&gt;,&lt;Status&gt;, [&lt;Username&gt;],[&lt;Password&gt;]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;Cntx Id&nbsp;is the context that we want to activate/deactivate.&nbsp;<br>&nbsp;&nbsp;Status&nbsp;is the context status (0 means deactivation, 1 activation).&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We want to activate context number two defined&nbsp;with +CGDCONT.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;30 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=31></a><IMG src="Telit_IP_User_Guide_r10-31_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-31_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Command:&nbsp;<br>&nbsp;<br>AT#SGACT = 2,1&nbsp;<br>
&nbsp;<br>Answer:&nbsp;<br>#SGACT: “212.195.45.65”&nbsp;<br>
OK&nbsp;if activation success.&nbsp;<br>
&nbsp;<br>
ERROR&nbsp;if activation fails.&nbsp;<br>&nbsp;<br>The response&nbsp;code to the AT#SGACT=1 command reports the IP address obtained&nbsp;from&nbsp;<br>the network, allowing&nbsp;the user to report&nbsp;it to his&nbsp;server or application.&nbsp;&nbsp;<br>Deactivating the&nbsp;context implies freeing the&nbsp;network resources previously allocated to&nbsp;<br>the device.&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>Also the command AT+CGACT activates a context,&nbsp;but in this case the context cannot be&nbsp;<br>used for IP Easy.&nbsp;<br>&nbsp;<br>It’s also possible to set authentication&nbsp;type through the command AT#SGACTAUTH.&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SGACTAUTH=&lt;type&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;0 –&nbsp;no&nbsp;authentication&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;1 –&nbsp;PAP authentication(factory default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;2 -&nbsp;&nbsp;CHAP authentication &nbsp; &nbsp;&nbsp;<br>&nbsp;<br>It’s also possible to enable automatic activation/reactivation&nbsp;of a specified PDP context&nbsp;<br>in case of switching off/on, in case of deactivation from Network and in case of SIM&nbsp;<br>removal.&nbsp;<br>NOTE:&nbsp;at least one IPEasy socket has to be previously&nbsp;associated to&nbsp;this context&nbsp;by&nbsp;<br>command AT#SCFG. The command syntax is:&nbsp;<br>
&nbsp;<br>
AT#SGACTCFG=&lt;Cntx Id&gt;,&lt;retry&gt;[,&lt;delay&gt;[,&lt;urcmode&gt;]]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;&lt;Cntx Id&gt;(1-5) is the&nbsp;context that we&nbsp;want to automatic activate/reactivate&nbsp;<br>&nbsp;&nbsp;&lt;retry&gt;(0-15) is the number of&nbsp;activation/reactivation attempts(if it fails)&nbsp;<br>&nbsp;&nbsp;&lt;delay&gt;(180-3600)&nbsp;is the&nbsp;delay(sec) between two&nbsp;successive attempts&nbsp;<br>&nbsp;&nbsp;&lt;urcmode&gt;(0-1) enable unsolicited&nbsp;result code&nbsp;of the local&nbsp;IP address&nbsp;obtained&nbsp;<br>
from the network&nbsp;&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;31 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=32></a><IMG src="Telit_IP_User_Guide_r10-32_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-32_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>AT#SGACTCFG=1,3 - activation/reactivation set on context 1&nbsp;with 3 attempts.&nbsp;<br>&nbsp;<br>No previous setting through #SCFG is needed in this case, because socket connection&nbsp;<br>identifiers &lt;Conn Id&gt;&nbsp;1,2,3 are already associated to &nbsp;&lt;Cntx Id&gt; 1 by&nbsp;default.&nbsp;<br>
&nbsp;<br>
Furthermore it is possible to abort&nbsp;a context activation attempt, while waiting for AT&nbsp;<br>response, by sending a char on the serial port. &nbsp;<br>To enable this feature on a &lt;cid&gt; new #SGACTCFGEXT command has been&nbsp;<br>implemented.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>AT#SGACTCFGEXT=&lt;cid&gt;,&lt;abortAttemptEnable&gt;&nbsp;<br>&nbsp;<br>By setting &lt;abortAttemptEnable&gt;&nbsp;on &lt;cid&gt;, attempt pre-emption&nbsp;<br>is allowed.&nbsp;<br>&nbsp;<br>For more details, please&nbsp;refer to refer to the AT&nbsp;Commands Reference Guide.&nbsp;<br>
&nbsp;<br>
&nbsp; Open the&nbsp;connection with the internet host&nbsp;<br>
&nbsp;<br>
With the AT&nbsp;command&nbsp;#SD (socket Dial) the&nbsp;TCP/UDP request to connect with&nbsp;the&nbsp;<br>internet host starts:&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;DNS query&nbsp;is done to&nbsp;resolve the IP address of the&nbsp;host name internet peer if&nbsp;<br>required &nbsp;<br>&nbsp;&nbsp;Telit&nbsp;module establishes a TCP/UDP (depending on the parameter request)&nbsp;<br>connection with the given internet host&nbsp;<br>&nbsp;&nbsp;Once the connection is up the module reports the code: CONNECT &nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SD&nbsp;= &lt;Conn Id&gt;,&lt;Protocol&gt;,&nbsp;&lt;Remote Port&gt;,&nbsp;&lt;IP address&gt; [,&nbsp;&lt;Closure Type&gt; [,&nbsp;<br>&lt;Local Port&gt;]]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>&nbsp;<br>
Conn Id&nbsp;is the connection identifier.&nbsp;<br>
&nbsp;<br>
Protocol is&nbsp;0 for TCP and 1 for UDP.&nbsp;<br>
&nbsp;<br>
Remote Port&nbsp;is the port&nbsp;of the remote&nbsp;machine.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;32 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=33></a><IMG src="Telit_IP_User_Guide_r10-33_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-33_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
IP address&nbsp;is the remote address.&nbsp;<br>
&nbsp;<br>&nbsp;<br>To open the remote connection the context to which the&nbsp;Connection Id is associated&nbsp;<br>must be active, otherwise an error will appear.&nbsp;<br>&nbsp;<br>For example, if we&nbsp;want&nbsp;to connect to a web server with Connection Id number 3 the&nbsp;<br>command is:&nbsp;<br>&nbsp;<br>AT#SD = 3 , 0 , 80 , “www.telit.com”&nbsp;<br>
&nbsp;<br>
If the command is successful we’ll have a&nbsp;CONNECT&nbsp;message, and the socket number 3&nbsp;<br>will be connected to the&nbsp;Telit&nbsp;webserver. &nbsp;<br>From this&nbsp;moment the data incoming&nbsp;in the serial port&nbsp;is packet&nbsp;and sent to the&nbsp;<br>Internet host, while the data received from the host is serialised and flushed to the&nbsp;<br>Terminal Equipment.&nbsp;<br>The +++ sequence does not close the socket, but only suspends it.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>Check guard time/S12 parameter before and after escape sequence.&nbsp;<br>&nbsp;<br>We can suspend the connection and open another one with a&nbsp;different Connection Id. &nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
A typical command sequence is:&nbsp;<br>&nbsp;<br>AT#SD = 3 , 0 , 80 , “www.telit.com”&nbsp;<br>CONNECT&nbsp;<br>
(send, receive data….)&nbsp;<br>&nbsp;<br>(+++)&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>OK is returned after the escape&nbsp;sequence, it means that the socket has been&nbsp;<br>suspended correctly.&nbsp;<br>Now the connection number 3 is suspended and the module is in command mode so&nbsp;we&nbsp;<br>can give another #SD command.&nbsp;<br>&nbsp;<br>AT#SD = 2 , 0 , 80 , “www.google.com”&nbsp;<br>CONNECT&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;33 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=34></a><IMG src="Telit_IP_User_Guide_r10-34_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-34_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
(send, receive data….)&nbsp;<br>&nbsp;<br>(+++)&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>If we try to open a connection while the&nbsp;ConnId&nbsp;is in suspended state or&nbsp;online an error&nbsp;<br>will be occur. &nbsp;<br>
&nbsp;<br>
If a suspended connection receives some data the user will receive an unsolicited&nbsp;<br>SRING indication from the module.&nbsp;In case we receive some data from the suspended&nbsp;<br>connection with Telit server we’ll receive this unsolicited message:&nbsp;<br>&nbsp;<br>SRING: 3&nbsp;<br>
&nbsp;<br>where 3 is the number of the&nbsp;ConnId&nbsp;with data pending.&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>The unsolicited SRING indication appears only in command mode.&nbsp;<br>&nbsp;<br>&nbsp;<br>New commands #PADFWD and #PADCMD have&nbsp;been implemented3:&nbsp;<br>&nbsp;<br>with&nbsp;&nbsp;#PADFWD&nbsp;&nbsp;it&nbsp;&nbsp;is&nbsp;&nbsp;possible&nbsp;&nbsp;to&nbsp;&nbsp;choose&nbsp;&nbsp;a&nbsp;&nbsp;char&nbsp;&nbsp;that,&nbsp;&nbsp;if&nbsp;&nbsp;received&nbsp;&nbsp;from&nbsp;&nbsp;serial&nbsp;&nbsp;port&nbsp;&nbsp;and&nbsp;&nbsp;if&nbsp;<br>#PADCMD is set, enables flushing of pending data on the socket. &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>AT#PADFWD=65&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#PADCMD=1&nbsp;<br>OK&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br>AT#SD = 3 , 0 , 80 , “www.telit.com”&nbsp;<br>CONNECT&nbsp;<br>
// data are not sent on the socket till &lt;Pkt sz&gt;&nbsp;&nbsp;<br>// is reached or &lt;Tx To&gt; is expired….&nbsp;<br>&nbsp;<br>………………….&nbsp;<br>&nbsp;<br>reserved char(65) set&nbsp;through #PADFWD is sent =&gt;&nbsp;&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>3&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;34 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=35></a><IMG src="Telit_IP_User_Guide_r10-35_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-35_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
flushing&nbsp;of all data on the socket follows &nbsp;<br>(including reserved char)&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.2.1.4.<b>&nbsp;</b><br>
Resuming a suspended connection with #SO&nbsp;<br>
&nbsp;<br>
This is the new command&nbsp;to resume&nbsp;a suspended connection, the command syntax is:&nbsp;<br>&nbsp;<br>AT#SO = &lt;Conn Id&gt;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>AT#SD = 2 , 0 , 80 , “www.google.com”&nbsp;<br>CONNECT&nbsp;<br>
data sending&nbsp;<br>&nbsp;<br>(+++)&nbsp;<br>&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 2&nbsp;<br>&nbsp;<br>AT#SO = 2&nbsp;<br>CONNECT&nbsp;<br>
data sending&nbsp;<br>&nbsp;<br>(+++)&nbsp;<br>&nbsp;<br>In case there is data pending on this socket -- you can know this the unsolicited&nbsp;<br>message SRING has appeared before--, issuing command&nbsp;AT#SO these pending&nbsp;data&nbsp;<br>will be displayed after the CONNECT string.&nbsp;<br>&nbsp;<br>It is possible to resume a suspended socket without waiting for SRING&nbsp;message or data&nbsp;<br>pending on that connection. &nbsp;<br>&nbsp;<br>Using AT#SO on a Connection Id in idle state (no&nbsp;socket open&nbsp;or suspended) we obtain&nbsp;a&nbsp;<br>NO CARRIER message.&nbsp;<br>
&nbsp;<br>
3.2.1.5.<b>&nbsp;</b><br>
Close the Socket without deactivating the context&nbsp;<br>
&nbsp;<br>
The connection can be closed for the following reasons:&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;35 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=36></a><IMG src="Telit_IP_User_Guide_r10-36_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-36_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
remote host TCP connection close&nbsp;<br>
&nbsp;<br>
socket inactivity timeout&nbsp;<br>
&nbsp;<br>
Terminal Equipment by issuing the escape sequence &quot;+++&quot; and AT#SH that&nbsp;<br>
specifies the Connection Id&nbsp;<br>&nbsp;<br>
Network deactivation&nbsp;<br>
&nbsp;<br>&nbsp;<br>
With the new management of the&nbsp;escape sequence we need a command to close&nbsp;the&nbsp;<br>socket connection. The&nbsp;AT command&nbsp;syntax to use is:&nbsp;<br>&nbsp;<br>AT#SH&nbsp;= &lt;conn Id&gt;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>AT#SD = 2 , 0 , 80 , “www.google.com”&nbsp;<br>CONNECT&nbsp;<br>
data sending&nbsp;<br>&nbsp;<br>(+++)&nbsp;<br>&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SH = 2&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Now the connection is&nbsp;closed. If we send this&nbsp;command with an idle Connection Id we&nbsp;<br>obtain in any case an OK message.&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>If there is&nbsp;an escape sequence in the raw data to&nbsp;be sent, then the TE must work&nbsp;it&nbsp;out&nbsp;<br>and sent it in a different&nbsp;fashion to guarantee that the connection is not closed.&nbsp;<br>The pause time is defined in the&nbsp;parameter&nbsp;S12. To avoid sending of the escape&nbsp;<br>sequence a command AT#SKIPESC&nbsp;should be set at the beginning.&nbsp;&nbsp;<br>&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.2.1.6.<b>&nbsp;</b><br>
Specific settings for TCP/IP options&nbsp;<br>
&nbsp;<br>
If needed, it’s possible to have direct&nbsp;control on particular TCP/IP settings:&nbsp;<br>&nbsp;<br>&nbsp;<br>
Enabling&nbsp;of&nbsp;TCP reassembly feature.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;36 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=37></a><IMG src="Telit_IP_User_Guide_r10-37_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-37_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;The command syntax is:&nbsp;<br>&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;AT#TCPREASS=&lt;n&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0&nbsp;– disable TCP reassembly feature(default)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;1&nbsp;– enable TCP reassembly feature &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Maximum TCP/IP payload size accepted&nbsp;in one single&nbsp;TCP/IP&nbsp;datagram.&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;The command syntax is:&nbsp;<br>&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; AT#TCPMAXDAT=&lt;size&gt;(bytes)&nbsp;–&nbsp;&nbsp;<br>maximum TCP payload&nbsp;size accepted in one single TCP/IP datagram received from the&nbsp;<br>peer&nbsp;<br>&nbsp;<br>&lt;size&gt; will be sent by the module(TCP stack) to&nbsp;the peer when the socket connection &nbsp;<br>will be opened. &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Example:&nbsp;<br>&nbsp;<br>AT#TCPMAXDAT=1000 –&nbsp;maximum&nbsp;TCP&nbsp;payload&nbsp;size accepted from peer set to 1000&nbsp;<br>bytes&nbsp;<br>&nbsp;<br>Then, if we open a TCP socket connection we will advice the peer that we will not accept&nbsp;<br>TCP/IP datagrams&nbsp;with&nbsp;a payload bigger than 1000 bytes.&nbsp;<br>
&nbsp;<br>
3.2.1.7.<b>&nbsp;</b><br>
Sending and receiving base64 encoded data4&nbsp;<br>
&nbsp;<br>
Through new #BASE64&nbsp;command is&nbsp;possible&nbsp;to enable base64 encoding/decoding of&nbsp;<br>data sent/received on a socket.&nbsp;<br>&nbsp;<br>The command syntax&nbsp;is: AT#BASE64=&lt;connId&gt;,&lt;enc&gt;,&lt;dec&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;where &lt;enc&gt; and &lt;dec&gt; enable respectively&nbsp;encoding and/or&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;decoding on &lt;connId&gt; socket.&nbsp;&nbsp;<br>&nbsp;<br>&lt;enc&gt; and &lt;dec&gt; can be&nbsp;set to 1 or&nbsp;2&nbsp;depending on MIME line&nbsp;feeds setting&nbsp;<br>required(please refer to&nbsp;the AT Commands Reference Guide)&nbsp;<br>&nbsp;<br>Encoding: if&nbsp;enabled,&nbsp;all&nbsp;data are encoded base64 while&nbsp;&nbsp;<br>they are received from serial port, before to be sent on&nbsp;<br>&lt;connId&gt; socket. &nbsp;&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>4&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;37 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=38></a><IMG src="Telit_IP_User_Guide_r10-38_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-38_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Decoding: if&nbsp;enabled,&nbsp;all&nbsp;data are decoded base64 while&nbsp;&nbsp;<br>they are received from &lt;connId&gt; socket, before to&nbsp;be sent&nbsp;&nbsp;<br>on the serial port.&nbsp;<br>&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>
&nbsp;<br>
at#skipesc=1 &nbsp; &nbsp;&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SD=1,0,&lt;port&gt;,&quot;IP&quot;&nbsp;<br>CONNECT&nbsp;<br>// Data received from serial port are sent &nbsp;<br>// directly on the socket&nbsp;<br>+++ (suspension)&nbsp;<br>
&nbsp;<br>
at#base64=1,1,0 &nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SO=1&nbsp;<br>CONNECT&nbsp;<br>// Data received from serial port are encoded&nbsp;<br>// base64 before to be sent on the socket&nbsp;<br>+++ (suspension)&nbsp;<br>&nbsp;<br>at#base64=1,0,1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>AT#SO=1&nbsp;<br>CONNECT&nbsp;<br>// Data received from socket are decoded&nbsp;<br>// base64 before to be sent on the serial port&nbsp;<br>+++ (suspension)&nbsp;<br>…………………&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>It is also possible to use new feature&nbsp;in command&nbsp;mode&nbsp;<br>(please refer to AT Commands Reference Guide).&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;38 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=39></a><IMG src="Telit_IP_User_Guide_r10-39_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-39_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.2.2.<b>&nbsp;</b><br>
IP Easy&nbsp;Incoming&nbsp;Connection&nbsp;<br>
&nbsp;<br>
The IP Easy&nbsp;feature provides a way to accept incoming TCP/UDP connections and keep&nbsp;<br>the same IP address after a connection, leaving the context active.&nbsp;<br>The steps that will be&nbsp;required to open a socket in listen, waiting for connection&nbsp;<br>requests from remote hosts and accept these request connections only&nbsp;from a selected&nbsp;<br>set of hosts, then close it without closing the context are:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;configuring the GPRS/UMTS/HSPA Access&nbsp;&nbsp;<br>&nbsp;&nbsp;configuring the embedded TCP/IP stack behavior&nbsp;(see&nbsp;par. 3.2.1.2)&nbsp;<br>&nbsp;&nbsp;defining the Internet Peer that can contact this device (firewall settings) (see&nbsp;<br>
par.3.2.2.1)&nbsp;<br>
&nbsp;&nbsp;request the context to be&nbsp;activated (see par.3.2.1.3)&nbsp;<br>&nbsp;&nbsp;request the socket connection to be&nbsp;opened in listen (see par. 3.2.2.2)&nbsp;<br>&nbsp;&nbsp;receive connection requests (see par.3.2.2.3)&nbsp;<br>&nbsp;&nbsp;exchange data&nbsp;<br>&nbsp;&nbsp;close the TCP connection while keeping the context active (see par.3.2.1.6)&nbsp;<br>
&nbsp;<br>
All these steps are achieved through AT commands. As for common modem interface,&nbsp;<br>two logical statuses are involved: command mode and data traffic mode.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;In Command&nbsp;Mode (CM), some AT commands are provided&nbsp;to configure&nbsp;the Data&nbsp;<br>
Module Internet stack and to start up&nbsp;the data traffic.&nbsp;<br>
&nbsp;&nbsp;In data traffic mode (Socket Mode, SKTM), the client can send/receive a&nbsp;raw data&nbsp;<br>
stream which will be encapsulated in the previously configured TCP / IP packets&nbsp;<br>which will be sent&nbsp;to the other side&nbsp;of the&nbsp;network and vice versa. Control plane&nbsp;<br>of ongoing socket connection is deployed internally to the module.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.2.2.1.<b>&nbsp;</b><br>
Defining the Internet Peer that can contact this device (firewall settings)&nbsp;<br>
&nbsp;<br>
The Telit module has an internal Firewall that controls the behavior of the incoming&nbsp;<br>connections to the module. The firewall applies&nbsp;for INCOMING (listening) connections;&nbsp;<br>OUTGOING&nbsp;connections will be always done regardless of the firewall settings.&nbsp;<br>&nbsp;<br>Firewall General policy&nbsp;is DROP, therefore all packets that are not included into an&nbsp;<br>ACCEPT chain rule will be silently discarded.&nbsp;<br>&nbsp;<br>When packet&nbsp;incomes from the IP address &lt;incoming IP&gt;, the firewall&nbsp;chain rules&nbsp;will&nbsp;<br>be scanned for matching&nbsp;with the following criteria:&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;39 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=40></a><IMG src="Telit_IP_User_Guide_r10-40_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-40_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&lt;incoming IP&gt; &amp; &lt;net mask&gt; = &lt;ip_address&gt; &nbsp;?&nbsp;<br>
&nbsp;<br>
if the result&nbsp;is yes, then&nbsp;the packet is accepted and the rule&nbsp;scan is finished, otherwise&nbsp;<br>the next chain is taken into account&nbsp;until the end of the rules when the packet is silently&nbsp;<br>dropped if no matching&nbsp;was found.&nbsp;<br>&nbsp;<br>For example, let’s assume we want&nbsp;to&nbsp;accept connections only from our devices&nbsp;which&nbsp;<br>are on the IP addresses ranging&nbsp;from 197.158.1.1&nbsp;to 197.158.255.255&nbsp;<br>&nbsp;<br>We need to add the following&nbsp;chain to&nbsp;the firewall:&nbsp;<br>&nbsp;<br>AT#FRWL=1,&quot;197.158.1.1&quot;,&quot;255.255.0.0&quot;&nbsp;<br>
&nbsp;<br>
3.2.2.2.<b>&nbsp;</b><br>
Request the socket connection to&nbsp;be opened in listen&nbsp;<br>
&nbsp;<br>
The new listen command&nbsp;is now extended to 6 connections;&nbsp;it’s possible&nbsp;to set from&nbsp;1 to&nbsp;<br>6 socket listening on a&nbsp;specific port&nbsp;for&nbsp;the incoming connections. Another difference&nbsp;<br>with the old IP Easy is&nbsp;that now we receive an unsolicited&nbsp;indication&nbsp;when someone&nbsp;<br>tries to connect, so we can decide to accept&nbsp;(AT#SA)&nbsp;or refuse&nbsp;(AT#SH)&nbsp;the incoming&nbsp;<br>connection. &nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>In case you decide to reject an incoming&nbsp;connection request the listening socket will be&nbsp;<br>closed and if you want to&nbsp;re-open it the AT command AT#SL needs to be re-issued.&nbsp;<br>&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SL = &lt;Conn Id&gt;, &lt;Listen state&gt;, &lt;Listen port&gt;[,&nbsp;&lt;Closure Type&gt;]&nbsp;<br>&nbsp;<br>It’s not possible to have two&nbsp;ConnId&nbsp;listening on the same port.&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>Suppose that we want to listen on port 6543 Connection Id number 2&nbsp;&nbsp;<br>&nbsp;<br>AT#SL = 2, 1, 6543&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;40 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=41></a><IMG src="Telit_IP_User_Guide_r10-41_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-41_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Now the module is listening for incoming connection on port 6543 with Connection Id&nbsp;<br>number 2, if a remote&nbsp;host is trying to connect we’ll receive a SRING unsolicited&nbsp;<br>indication&nbsp;with the listening Connection Id:&nbsp;<br>&nbsp;<br>SRING: 2&nbsp;<br>
&nbsp;<br>
3.2.2.3.<b>&nbsp;</b><br>
Accept an incoming connection with #SA&nbsp;<br>
&nbsp;<br>
After receiving the SRING indication for an&nbsp;incoming connection we can decide to&nbsp;<br>refuse the remote host connection with #SH command or accept the connection with&nbsp;<br>#SA command.&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SA = &lt;conn Id&gt;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We are listening on Connection Id 3&nbsp;and port 6543&nbsp;<br>&nbsp;<br>AT#SL = 3, 1, 6543&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>A remote host is trying to connect, we receive the unsolicited indication.&nbsp;<br>&nbsp;<br>SRING: 3&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>Now we accept the connection&nbsp;<br>&nbsp;<br>AT#SA = 3 &nbsp;<br>CONNECT&nbsp;<br>
&nbsp;<br>We pass in&nbsp;online mode and the&nbsp;connection is&nbsp;established.&nbsp;With the escape sequence&nbsp;<br>we suspend&nbsp;the socket and the module is back to command mode.&nbsp;To resume&nbsp;the&nbsp;<br>suspended connection we can use the #SO command described above.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;41 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=42></a><IMG src="Telit_IP_User_Guide_r10-42_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-42_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
NOTE5:&nbsp;<br>
It’s also&nbsp;possible to accept automatically&nbsp;the incoming connection if the&nbsp;<br>&lt;ListenAutoRsp&gt; parameter has been set&nbsp;through the command AT#SCFGEXT(for&nbsp;the&nbsp;<br>specific connId);&nbsp;&nbsp;<br>see also par. 5.2.2. &nbsp;<br>
&nbsp;<br>
In this case no unsolicited indication&nbsp;is received, but&nbsp;&nbsp;the&nbsp;connection is automatically&nbsp;<br>accepted: &nbsp;the CONNECT indication&nbsp;is given and the modem goes into online&nbsp;data&nbsp;<br>mode5.&nbsp;<br>&nbsp;<br>It’s also possible to open a socket listening&nbsp;for an incoming UDP&nbsp;connection on a&nbsp;<br>specified port.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SLUDP=&lt;connId&gt;, &lt;listenState&gt;, &lt;listenPort&gt; &nbsp;<br>
&nbsp;<br>Also in this case it’s possible to receive SRING unsolicited and decide to accept (AT#SA)&nbsp;<br>or refuse (AT#SH).&nbsp;<br>&nbsp;<br>It is also possible to accept automatically incoming&nbsp;connection depending on&nbsp;<br>&lt;ListenAutoRsp&gt; settings5.&nbsp;<br>
&nbsp;<br>
3.2.2.4.<b>&nbsp;</b><br>
Checking the socket status with #SS&nbsp;<br>
&nbsp;<br>
With the old&nbsp;IP Easy socket connection the&nbsp;possible states were: online state or closed,&nbsp;<br>while with&nbsp;multi-socket suspension we have other socket states. With the&nbsp;new&nbsp;<br>command AT#SS we can see the status of all the six sockets.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SS&nbsp;<br>[=&lt;connId&gt;]&nbsp;<br>Suppose that we have suspended some sockets and we&nbsp;are in command&nbsp;mode, in order&nbsp;<br>to verify&nbsp;which Connection Id has been opened,&nbsp;we can use&nbsp;AT#SS command to have&nbsp;a&nbsp;<br>snapshot of sockets status.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>5&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;42 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=43></a><IMG src="Telit_IP_User_Guide_r10-43_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-43_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
The command result is:&nbsp;<br>&nbsp;<br>#SS:&nbsp;&lt;ConnId&gt;,&lt;Status&gt;,&lt;Local IP&gt;,&lt;Local Port&gt;,&lt;Remote IP&gt;,&lt;Remote Port&gt;&nbsp;<br>&nbsp;<br>For every Connection Id with have the information about our local IP address, local port,&nbsp;<br>remote IP and port if we&nbsp;are connected. &nbsp;<br>The Status field represents the socket status:&nbsp;<br>
&nbsp;<br>
0 –&nbsp;Socket Closed.&nbsp;<br>1 –&nbsp;Socket with an active&nbsp;data transfer connection.&nbsp;<br>2 –&nbsp;Socket suspended.&nbsp;<br>3 –&nbsp;Socket suspended with pending data.&nbsp;<br>4 –&nbsp;Socket listening.&nbsp;<br>5 –&nbsp;Socket with an incoming connection. Waiting for the user accept or shutdown&nbsp;<br>command.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
Example:&nbsp;<br>&nbsp;<br>AT#SS&nbsp;<br>#SS: 1,4,217.201.131.110,21&nbsp;<br>#SS: 2,2,217.201.131.110,1033,194.185.15.73,10510&nbsp;<br>#SS: 3,3,217.201.131.110,1034,194.185.15.73,10510&nbsp;<br>#SS: 4,1,217.201.131.110,1035,194.185.15.73,10510&nbsp;<br>#SS: 5,0&nbsp;<br>#SS: 6,0&nbsp;<br><b>&nbsp;<br></b>OK&nbsp;<br>
&nbsp;<br>In this case&nbsp;we can see Connection Id 1 in listen mode on port 21, number 2 suspended&nbsp;<br>with no data pending, number 3 suspended with&nbsp;pending data and number 1 is online.&nbsp;<br>The last two&nbsp;connections are closed&nbsp;<br>&nbsp;<br>By issuing AT#SS=&lt;connId&gt; it’s possible to&nbsp;get status only of the corresponding socket.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.2.2.5.<b>&nbsp;</b><br>
Using FTP and IP Easy together&nbsp;<br>
&nbsp;<br>
Another new functionality of multi-socket is&nbsp;the simultaneous FTP client service with&nbsp;<br>socket connections. We can use socket suspension mode to give FTP commands as in&nbsp;<br>the old IP Easy, keeping socket alive and eventually resuming&nbsp;socket connections when&nbsp;<br>we need to.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;43 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=44></a><IMG src="Telit_IP_User_Guide_r10-44_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-44_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>It is recommended to&nbsp;leave Connection Id 1&nbsp;associated to context 1 for using this&nbsp;<br>functionality.&nbsp;( for more explanation&nbsp;see also paragraph 3.2.1.2)&nbsp;<br>
&nbsp;<br>
3.2.2.6.<b>&nbsp;</b><br>
Using CMUX&nbsp;and Multi-socket&nbsp;<br>
&nbsp;<br>
Using CMUX&nbsp;we can have&nbsp;up to three virtual&nbsp;port to execute normal AT&nbsp;commands; if we&nbsp;<br>join CMUX&nbsp;with multi-socket we can&nbsp;share the six connections on the three ports (six is&nbsp;<br>the total number in any&nbsp;case) and we can have up to three sockets active&nbsp;(online) at&nbsp;the&nbsp;<br>same time6.&nbsp;<br>&nbsp;<br>
FTP&nbsp;with CMUX is&nbsp;locked on the&nbsp;opening port. So if we&nbsp;try to open&nbsp;an FTP client&nbsp;<br>connection on another virtual port the FTP commands will&nbsp;show an error message&nbsp;until&nbsp;<br>the first connection with&nbsp;FTP server&nbsp;is not closed. When the connection is closed&nbsp;we&nbsp;<br>can open another FTP session on another virtual port. In any case we can always have&nbsp;<br>only one FTP session opened at the time.&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
3.2.2.7.<b>&nbsp;</b><br>
Using old interface command on Multi-socket&nbsp;<br>
&nbsp;<br>
The old commands like #SKTD or&nbsp;#SKTL are&nbsp;available also on multi-socket platform&nbsp;<br>and they work like in the old IP Easy platform. If we open a&nbsp;connection with #SKTD we&nbsp;<br>can’t suspend the connection, and the +++&nbsp;sequence will close&nbsp;definitively&nbsp;the&nbsp;<br>connection.&nbsp;<br>In particular with #SKTD command&nbsp;we have&nbsp;the possibility to open three simultaneous&nbsp;<br>connections using CMUX&nbsp;virtual ports. They are&nbsp;closed using the +++ sequence7.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>#SKTOP has&nbsp;some limitations. It is available only on the first virtual port of&nbsp;CMUX and&nbsp;it&nbsp;<br>is recommended not to use it with the&nbsp;new multi-socket commands because #SKTOP&nbsp;<br>deactivates&nbsp;the context when the connection is&nbsp;closed. This&nbsp;can generate&nbsp;the closure of&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>6&nbsp;Only&nbsp;one&nbsp;socket&nbsp;(Online Data Mode , SKTM) for UC864-G, UC864-E,&nbsp;UC864-E-DUAL,&nbsp;UC864-E-AUTO&nbsp;and&nbsp;<br>UC864-WD&nbsp;<br>7&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;44 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=45></a><IMG src="Telit_IP_User_Guide_r10-45_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-45_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
suspended sockets.&nbsp;&nbsp;It’s strongly recommended in any case&nbsp;to avoid using old IP Easy&nbsp;<br>command with new multi-socket commands.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.2.2.8.<b>&nbsp;</b><br>
Dial Up with Multisocket&nbsp;<br>
&nbsp;<br>
With multi-socket we recommend you to use the first context for a dialup connection&nbsp;<br>and use the&nbsp;other available context for IP Easy socket connection. &nbsp;<br>The first context must be deactivated to make&nbsp;dialup connection work&nbsp;correctly, if we&nbsp;<br>activate IP Easy and dialup at the&nbsp;same time the performance get worse. It is possible&nbsp;<br>to make web browsing&nbsp;and IP Easy&nbsp;socket connection at the same time.&nbsp;<br>
&nbsp;<br>
3.2.3.<b>&nbsp;</b><br>
Known limitations&nbsp;<br>
&nbsp;<br>
The implementation of the IP EASY feature has the following known limitations:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;#SKTOP&nbsp;is available only&nbsp;on the first virtual port&nbsp;of CMUX8&nbsp;&nbsp;<br>&nbsp;&nbsp;PPP and IP Easy functionalities not on the same IP Address (PPP uses always&nbsp;<br>
the first Cntx Id)&nbsp;<br>
&nbsp;&nbsp;Multi listen only on different IP ports&nbsp;&nbsp;<br>&nbsp;&nbsp;It’s not allows to use two Data Traffic mode on CMUX or Multiple channels at&nbsp;<br>
the same time9.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.3.<b>&nbsp;</b><br>
FTP OPERATIONS &nbsp;<br>
&nbsp;<br>&nbsp;<br>
A set of AT commands is&nbsp;available to&nbsp;support&nbsp;the&nbsp;FTP activities. The first command is&nbsp;<br>called&nbsp;#FTPTO (FTP Time-Out) which defines the time-out for FTP operations. The&nbsp;<br>module has&nbsp;already a factory default&nbsp;time defined that is 10 s.&nbsp;<br>&nbsp;<br>If it is needed to be modified, the syntax is:&nbsp;<br>&nbsp;<br>AT#FTPTO[=&lt;tout&gt;]&nbsp;<br>&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>8&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>9&nbsp;Only available&nbsp;on UC864-G, UC864-E, UC864-E-DUAL, UC864-E-AUTO and&nbsp;UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;45 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=46></a><IMG src="Telit_IP_User_Guide_r10-46_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-46_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Parameter:&nbsp;<br>&lt;tout&gt;&nbsp;- time-out in 100&nbsp;ms units&nbsp;<br>Values:&nbsp;<br>100..5000 -&nbsp;hundreds of ms (factory default is 100)&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>The parameter is not saved in NVM.&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>&nbsp;if parameter&nbsp;&lt;tout&gt;&nbsp;is omitted the behavior of Set command is the same as Read&nbsp;<br>command.&nbsp;<br>&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>
AT#FTPTO=1000&lt;cr&gt;&nbsp;&nbsp;(set the timeout to 100sec)&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.3.1.<b>&nbsp;</b><br>
Opening and Closing an FTP Connection&nbsp;<br>
&nbsp;<br>
With the command&nbsp;AT#FTPOPEN=&lt;server:port&gt;,&lt;username&gt;,&lt;password&gt;,&lt;mode&gt;&nbsp;<br>is possible to open the FTP connection.&nbsp;<br>&nbsp;<br>The parameters are:&nbsp;&nbsp;<br>
&lt;server:port&gt;&nbsp;- string type, address&nbsp;and port of&nbsp;FTP server (factory default port 21).&nbsp;<br>&lt;username&gt;&nbsp;- string type, authentication user&nbsp;identification string for FTP.&nbsp;<br>&lt;password&gt;&nbsp;- string type, authentication password for FTP.&nbsp;<br>
&lt;mode&gt;&nbsp;<br>Values :&nbsp;<br>&nbsp; 0 - active mode (default)&nbsp;<br>&nbsp; 1 -&nbsp;passive mode&nbsp;<br>&nbsp;<br>In order to close the FTP connection the AT command&nbsp;AT#FTPCLOSE&nbsp;should be used.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;46 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=47></a><IMG src="Telit_IP_User_Guide_r10-47_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-47_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.3.2.<b>&nbsp;</b><br>
Setting the FTP Transfer Type&nbsp;<br>
&nbsp;<br>
With the command&nbsp;AT#FTPTYPE[=&lt;type&gt;]&nbsp;&nbsp;is&nbsp;possible to configure the file transfer&nbsp;<br>type. The command must be provided during an FTP connection.&nbsp;<br>&nbsp;<br>Parameter:&nbsp;<br>&lt;type&gt;&nbsp;- file transfer type:&nbsp;<br>Values:&nbsp;<br>&nbsp; 0 -&nbsp;binary&nbsp;<br>&nbsp; 1&nbsp;- ASCII&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>The command causes an&nbsp;ERROR&nbsp;result code to&nbsp;be returned if no FTP connection has&nbsp;<br>been opened yet.&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>If the parameter is omitted then the&nbsp;behavior of Set command is the same of Read&nbsp;<br>command.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
3.3.3.<b>&nbsp;</b><br>
FTP File transfer to the server&nbsp;<br>
&nbsp;<br>
With the command&nbsp;AT#FTPPUT=&lt;filename&gt;&nbsp;,&nbsp;to issued during&nbsp;an FTP connection, is&nbsp;<br>possible to open a data connection and starts sending&nbsp;&lt;filename&gt;&nbsp;file to&nbsp;the FTP server. &nbsp;<br>&nbsp;<br>If the data&nbsp;connection succeeds,&nbsp;a&nbsp;CONNECT&nbsp;indication&nbsp;is sent,&nbsp;otherwise a&nbsp;NO&nbsp;<br>CARRIER&nbsp;indication is sent.&nbsp;<br>&nbsp;<br>Parameter:&nbsp;<br>&lt;filename&gt;&nbsp;- string type, name under which you choose to&nbsp;save the file&nbsp;on the server&nbsp;<br>(must have the right&nbsp;extension: es. if the file you’re sending is .txt then the&nbsp;&lt;filename&gt;&nbsp;<br>can be test.txt) &nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>
&nbsp;<br>
Use the escape sequence&nbsp;+++&nbsp;to close the data connection.&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;47 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=48></a><IMG src="Telit_IP_User_Guide_r10-48_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-48_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
NOTE:&nbsp;<br>
&nbsp;<br>
Check the guard time/S12 parameter before and&nbsp;after escape&nbsp;sequence.&nbsp;<br>
&nbsp;<br>
NOTE: &nbsp;<br>
&nbsp;<br>
The command causes an&nbsp;ERROR&nbsp;result code to&nbsp;be returned if no FTP connection has&nbsp;<br>been opened yet.&nbsp;<br>
&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>Define PDP context:&nbsp;<br>AT+CGDCONT=1,”IP”, &quot;internet.wind.biz&quot;&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Context Activation, as response gives IP of the module:&nbsp;<br>AT#SGACT=1,1 &lt;cr&gt;&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>&nbsp;<br>Opening of&nbsp;FTP connection:&nbsp;<br>AT#FTPTO=1000&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(FTP settings of time-out)&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>AT#FTPOPEN=”199.188.25.77”,”user”,”pass”,0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
In this case&nbsp;port of FTP&nbsp;server is not specified,&nbsp;which means that it has the default&nbsp;<br>value: 21&nbsp;<br>&nbsp;<br>
AT#FTPTYPE=0&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(FTP settings of file type)&nbsp;&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>FTP file transfer to the server&nbsp;in the file named “file.txt”:&nbsp;<br>AT#FTPPUT=&quot;file.txt&quot;&lt;cr&gt;&nbsp;<br>CONNECT&nbsp;<br>
&nbsp;<br>(send the file)&nbsp;<br>&nbsp;<br>
+++&nbsp;&nbsp;&nbsp;(escape&nbsp;<br>
sequence&nbsp;<br>
+++&nbsp;to close the data connection)&nbsp;<br>
NOCARRIER&nbsp;<br>
&nbsp;<br>
AT#FTPCLOSE&lt;cr&gt;&nbsp;<br>
(closing FTP connection) &nbsp;<br>
OK&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;48 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=49></a><IMG src="Telit_IP_User_Guide_r10-49_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-49_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>Deactivation&nbsp;of context if required:&nbsp;<br>AT#SGACT=1,0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
3.3.4.<b>&nbsp;</b><br>
FTP File download&nbsp;from&nbsp;the server&nbsp;<br>
3.3.4.1.<b>&nbsp;</b><br>
FTP download / online mode&nbsp;<br>
&nbsp;<br>
The command&nbsp;AT#FTPGET=&lt;filename&gt;&nbsp;,&nbsp;issued during an&nbsp;FTP connection, opens a&nbsp;<br>data connection and starts getting a file&nbsp;&lt;filename&gt;&nbsp;from the&nbsp;FTP server.&nbsp;&nbsp;<br>&nbsp;<br>If the data&nbsp;connection succeeds,&nbsp;a&nbsp;CONNECT&nbsp;indication&nbsp;is sent,&nbsp;otherwise a&nbsp;NO&nbsp;<br>CARRIER&nbsp;indication is sent. The file&nbsp;is received on the serial&nbsp;port.&nbsp;<br>&nbsp;<br>Parameter:&nbsp;<br>&lt;filename&gt;&nbsp;- file name,&nbsp;string type.&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>The command causes an&nbsp;ERROR&nbsp;result code to&nbsp;be returned if no FTP connection has&nbsp;<br>been opened yet.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Example:&nbsp;<br>&nbsp;<br>Define PDP context:&nbsp;<br>AT+CGDCONT=1,”IP”, &quot;internet.wind.biz&quot;&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Context Activation, as response it gives the IP of the module:&nbsp;<br>AT#SGACT=1,1 &lt;cr&gt;&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Open the FTP connection:&nbsp;<br>
AT#FTPTO=1000&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(FTP settings of time-out)&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>AT#FTPOPEN=”199.188.25.77”,”user”,”pass”,0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;49 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=50></a><IMG src="Telit_IP_User_Guide_r10-50_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-50_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
In this case&nbsp;the port of FTP server is&nbsp;not&nbsp;specified, which means that it has the default&nbsp;<br>value of 21&nbsp;<br>&nbsp;<br>
AT#FTPTYPE=0&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(FTP settings of file type)&nbsp;&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>
AT#FTPCWD=&quot;incoming&quot;&nbsp;<br>
&nbsp;<br>
(change working directory if required)&nbsp;<br>
OK&nbsp;<br>
&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
In order to get the list of files on the working directory from the server AT command&nbsp;<br>AT#FTPLIST should be used.&nbsp;<br>&nbsp;<br>Download the FTP file “file.txt” from the server:&nbsp;<br>&nbsp;<br>AT#FTPGET=&quot;file.txt&quot;&lt;cr&gt;&nbsp;<br>CONNECT&nbsp;<br>
&nbsp;<br>(receive the file)&nbsp;<br>&nbsp;<br>&nbsp;<br>Data connection will be closed automatically when the file sending is terminated:&nbsp;<br>&nbsp;&nbsp;&nbsp;<br>NO CARRIER&nbsp;<br>
&nbsp;<br>
AT#FTPCLOSE&lt;cr&gt;&nbsp;<br>
(closing FTP connection) &nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>Deactivation&nbsp;of context if required:&nbsp;<br>AT#SGACT=0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>TIP: &nbsp;<br>&nbsp;<br>The #SGACT command activates the context and it is necessary to start the FTP&nbsp;<br>connection. &nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;50 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=51></a><IMG src="Telit_IP_User_Guide_r10-51_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-51_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.3.4.2.<b>&nbsp;</b><br>
FTP download / command mode10&nbsp;<br>
&nbsp;<br>
It’s possible to start an FTP download&nbsp;while remaining in command mode, buffering&nbsp;<br>data in the module, by issuing #FTPGETPKT command during an FTP connection.&nbsp;&nbsp;<br>&nbsp;<br>Successive transfer of required data onto&nbsp;the serial port is possible by issuing&nbsp;<br>#FTPRECV command.&nbsp;<br>&nbsp;<br>The command syntax of #FTPGETPKT is:&nbsp;<br>&nbsp;<br>AT#FTPGETPKT=&lt;filename&gt;[,&lt;viewMode&gt;]&nbsp;<br>&nbsp;<br>where the optional parameter &lt;viewMode&gt;&nbsp;&nbsp;permit to choose view mode&nbsp;(text format&nbsp;or&nbsp;<br>Hexadecimal).&nbsp;<br>&nbsp;<br>If the data connection succeeds, and we get&nbsp;an OK indication, it’s possible to check how&nbsp;<br>many buffered bytes are currently available, by issuing #FTPRECV? read command.&nbsp;<br>&nbsp;<br>Then, with the command&nbsp;AT#FTPRECV=&lt;blocksize&gt; ,&nbsp;it’s possible to transfer at most&nbsp;<br>&lt;blocksize&gt; bytes &nbsp;onto the serial port. This number is limited to the current number of&nbsp;<br>bytes of the remote file which have&nbsp;been transferred from the FTP server. &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;<br>&nbsp;<br>After issuing #FTPGETPKT,&nbsp;the &nbsp;application can issue AT commands as&nbsp;usual in&nbsp;<br>command mode -- except for FTP commands&nbsp;that need to open data ports like&nbsp;<br>#FTPLIST, because the data port has been&nbsp;already opened by #FTPGETPKT itself.&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>Provided that an FTP connection has already been issued by an FTPOPEN command as&nbsp;<br>indicated in&nbsp;2.2.4.1,&nbsp;the following applies.&nbsp;<br>&nbsp;<br>Download the FTP file “file.txt” from the server while still remaining in command&nbsp;<br>mode:&nbsp;<br>&nbsp;<br>AT#FTPGETPKT=&quot;file.txt&quot;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
The data port is opened&nbsp;and the download of the file is started; data is&nbsp;buffered within&nbsp;<br>the module.&nbsp;<br>&nbsp;<br>By issuing&nbsp;#FTPRECV read command we get the available bytes to read: &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>10&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;51 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=52></a><IMG src="Telit_IP_User_Guide_r10-52_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-52_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>AT#FTPRECV?&nbsp;<br>#FTPRECV: 600&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Read the required part of the available buffered&nbsp;data:&nbsp;<br>&nbsp;<br>AT#FTPRECV=400&nbsp;<br>#FTPRECV: 400&nbsp;<br>&nbsp;<br>Text row number 1 &nbsp;* 1111111111111111111111111 *&nbsp;<br>Text row number 2 &nbsp;* 2222222222222222222222222 *&nbsp;<br>Text row number 3 &nbsp;* 3333333333333333333333333 *&nbsp;<br>Text row number 4 &nbsp;* 4444444444444444444444444 *&nbsp;<br>Text row number 5 &nbsp;* 5555555555555555555555555 *&nbsp;<br>Text row number 6 &nbsp;* 6666666666666666666666666 *&nbsp;<br>Text row number 7 &nbsp;* 7777777777777777777777777 *&nbsp;<br>Text row number 8 &nbsp;* 88888888888888888888&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Read the required part of the available buffered&nbsp;data:&nbsp;<br>&nbsp;<br>AT#FTPRECV =200&nbsp;<br>#FTPRECV: 200&nbsp;<br>88888 *&nbsp;<br>Text row number 9 &nbsp;* 9999999999999999999999999 *&nbsp;<br>Text row number 10 * AAAAAAAAAAAAAAAAAAAAAAAAA *&nbsp;<br>Text row number 12 * BBBBBBBBBBBBBBBBBBBBBBBBB *&nbsp;<br>Text row number 13 * CCCCCCCCCCCCCCCC&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
NOTE: &nbsp;<br>&nbsp;<br>to check when you have read the whole file, use&nbsp;AT#FTPGETPKT read command:&nbsp;<br>&nbsp;<br>AT#FTPGETPKT?&nbsp;<br>#FTPGETPKT: sample.txt,0,1&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Third parameter indicates &lt;eof&gt;(end of file)&nbsp;current state(first parameter is file name&nbsp;<br>and second&nbsp;<br>Indicates text or hex mode).&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;52 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=53></a><IMG src="Telit_IP_User_Guide_r10-53_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-53_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Data port&nbsp;is automatically closed&nbsp;by read command #FTPGETPKT?&nbsp;itself&nbsp;when&nbsp;the&nbsp;<br>whole file has been red(by last #FTPRECV):&nbsp;another FTP download in online/command&nbsp;<br>mode can be started by&nbsp;issuing&nbsp;#FTPGET/#FTPGETPKT.&nbsp;<br>
&nbsp;<br>
3.3.5.<b>&nbsp;</b><br>
FTP File download&nbsp;restart11&nbsp;<br>
&nbsp;<br>
It’s possible to restart an FTP download from&nbsp;a specific position(byte) of the file by&nbsp;<br>issuing&nbsp;#FTPREST command before&nbsp;FTPGET(or FTPGETPKT) command.&nbsp;<br>&nbsp;<br>The syntax is:&nbsp;<br>&nbsp;<br>AT#FTPREST=&lt;restartposition&gt;(byte).&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>it’s necessary &nbsp;to issue&nbsp;FTPTYPE=0 before FTPGET(or FTPGETPKT) command to set&nbsp;<br>binary file transfer type.&nbsp;<br>
3.3.6.<b>&nbsp;</b><br>
FTP File upload&nbsp;restart&nbsp;<br>
&nbsp;<br>
It’s possible to restart an FTP upload from a specific position(byte).&nbsp;<br>&nbsp;<br>If previous FTP upload(FTPPUT) of file &lt;filename&gt; has been interrupted, it’s possible to&nbsp;<br>know how many bytes have&nbsp;been received from the server by issuing&nbsp;<br>
#FTPFSIZE=&lt;filename&gt;(during an FTP connection). &nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>it’s necessary &nbsp;to issue&nbsp;FTPTYPE=0 before FTPFSIZE command to set binary file&nbsp;<br>transfer type.&nbsp;<br>&nbsp;<br>Then application can append missing part&nbsp;of&nbsp;the file&nbsp;with&nbsp;AT#FTPAPP=&lt;filename&gt;,&nbsp;<br>using FTPFSIZE response to know restart position of the local file.&nbsp;<br>&nbsp;<br>To get more&nbsp;information&nbsp;for other available commands on the FTP functionality please&nbsp;<br>refer to the AT Commands Reference Guide.&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>11&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;53 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=54></a><IMG src="Telit_IP_User_Guide_r10-54_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-54_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>FTP&nbsp;works only on context one (AT#SGACT=1,1)&nbsp;<br>
3.4.<b>&nbsp;</b><br>
AT Commands Compatibility Table&nbsp;<br>
&nbsp;<br>
Telit advises all clients that start&nbsp;a new application development with SW version&nbsp;<br>7.02.03 or higher to use these new IP&nbsp;Easy&nbsp;AT commands. Below you can&nbsp;find&nbsp;<br>compatibility table for old and new commands:&nbsp;<br>
&nbsp;<br>
IP Easy old&nbsp;AT&nbsp;<br>
IP Easy&nbsp;&nbsp;<br>
Operation&nbsp;<br>
commands&nbsp;<br>
new AT commands&nbsp;<br>
description&nbsp;<br>
AT#SKTOP&nbsp;<br>
AT#SGACT; AT#SD&nbsp;<br>
socket open&nbsp;<br>
AT#SKTD&nbsp;<br>
AT#SD&nbsp;<br>
socket dial&nbsp;<br>
AT#SKTL&nbsp;<br>
AT#SL&nbsp;<br>
socket listen&nbsp;<br>
AT#SKTSET&nbsp;<br>
not required&nbsp;<br>
&nbsp;<br>
AT#SKTSAV&nbsp;<br>
not required&nbsp;<br>
&nbsp;<br>
AT#GPRS&nbsp;<br>
AT#SGACT&nbsp;<br>
activation of&nbsp;<br>
context&nbsp;<br>
+++ after AT#SKTD&nbsp;<br>
+++; AT#SH&nbsp;<br>
socket close&nbsp;<br>
+++ after AT#SKTOP&nbsp;<br>
+++; AT#SH;&nbsp;AT#SGACT&nbsp;<br>
AT#USERID&nbsp;<br>
AT#SGACT&nbsp;<br>
authentication&nbsp;<br>
AT#PASSWD&nbsp;<br>
AT#SGACT&nbsp;<br>
AT#PKTSZ&nbsp;<br>
AT#SCFG&nbsp;<br>
AT#DSTO&nbsp;<br>
AT#SCFG&nbsp;<br>
socket&nbsp;<br>
AT#SKTTO&nbsp;<br>
AT#SCFG&nbsp;<br>
configuration&nbsp;<br>
AT#SKTCT&nbsp;<br>
AT#SCFG&nbsp;<br>
&nbsp;<br>
It is strongly recommended not to mix the new commands with the old ones. &nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;54 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=55></a><IMG src="Telit_IP_User_Guide_r10-55_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-55_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
3.5.<b>&nbsp;</b><br>
Examples&nbsp;<br>
3.5.1.<b>&nbsp;</b><br>
IP Easy- HTTP client application&nbsp;<br>
&nbsp;<br>
Let’s suppose we want to&nbsp;connect our embedded device to an HTTP server and retrieve&nbsp;<br>an HTML page using the&nbsp;IP EASY feature.&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp; Initial data:&nbsp;<br>
Server to be contacted&nbsp;<br>
www.telit.com&nbsp;<br>
Application Layer&nbsp;Protocol&nbsp;<br>
HTTP1.0 (RFC1945);&nbsp;<br>HTTP1.1 (RFC2068)&nbsp;<br>
Page to be retrieved&nbsp;<br>
&nbsp;homepage&nbsp;of server&nbsp;<br>
Preliminary&nbsp;settings&nbsp;<br>APN&nbsp;<br>
internet&nbsp;<br>
IP of device&nbsp;<br>
dynamically&nbsp;assigned by the&nbsp;<br>network&nbsp;<br>
DNS&nbsp;<br>
assigned by the network&nbsp;<br>
USERID&nbsp;<br>
IPEASY &nbsp;<br>
PASSWORD&nbsp;<br>
IPEASY &nbsp;<br>
Socket parameters&nbsp;<br>Connection Identifier&nbsp;<br>
1&nbsp;<br>
Packet size (used by&nbsp;<br>TCP/UDP/IP&nbsp;stack for data&nbsp;<br>
300&nbsp;<br>
sending)&nbsp;<br>Socket inactivity timeout&nbsp;<br>
90&nbsp;<br>
Connection timeout&nbsp;<br>
600&nbsp;<br>
Data sending time out&nbsp;<br>
50&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
Checking on&nbsp;the RFC990 the HTTP service we can found that the port 80 is dedicated for&nbsp;<br>HTTP service, therefore our HTTP server will&nbsp;be waiting&nbsp;for incoming connections on&nbsp;<br>that port and we will fix&nbsp;the IP EASY&nbsp;port to be contacted on the remote server exactly&nbsp;<br>to 80.&nbsp;<br>Second thing we have to discover is whether the transport protocol has to be TCP or&nbsp;<br>UDP; on the RFC1945 we&nbsp;can read that the HTTP Application layer protocol is meant to&nbsp;<br>be on top of&nbsp;TCP/IP protocol, therefore the transport protocol choice will&nbsp;fall on TCP.&nbsp;<br>Now we have&nbsp;all the information needed to configure our system.&nbsp;<br>&nbsp;<br>With our microcontroller we issue to the Telit module the following AT commands:&nbsp;<br>
AT+CGDCONT = 1,&quot;IP&quot;,&quot;internet&quot;,&quot;0.0.0.0&quot;,0,0&lt;cr&gt;&nbsp; &nbsp;&nbsp;&nbsp;<br>
(GPRS context setting)&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;55 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=56></a><IMG src="Telit_IP_User_Guide_r10-56_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-56_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>For all the socket settings the following AT command will&nbsp;be used:&nbsp;<br>&nbsp;<br>AT#SCFG=1,1,300,90,600,50&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Next step is activation of the context:&nbsp;<br>AT#SGACT=1,1,“EASY GPRS“,“EASY GPRS“&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>This command replies with the IP address assigned by the network. &nbsp;<br>&nbsp;<br>Now we can proceed with&nbsp;contacting the server with AT command for socket dial:&nbsp;<br>AT#SD=1,0,80,”www.telit.com”,0,0&nbsp;<br>
&nbsp;<br>When we receive the CONNECT indication, then we are exchanging&nbsp;data&nbsp;with the HTTP&nbsp;<br>server program on the remote host machine.&nbsp;<br>&nbsp;<br>Now following the HTTP protocol we&nbsp;ask for the homepage by sending the following&nbsp;<br>lines on the serial line:&nbsp;<br>GET / HTTP/1.1&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Host: www.telit.com&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Connection: keep-alive&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&lt;cr&gt;&lt;lf&gt;&nbsp;<br>
&nbsp;<br>&nbsp;<br>TIP: &nbsp;<br>&nbsp;<br>Remember that the strings, which are sent to the&nbsp;HTTP server, have to be ended by line&nbsp;<br>feed character. To see the issued commands enable the local echo.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;As a response to our query the HTTP server will reply with the HTML code of the&nbsp;<br>homepage and some debugging responses that&nbsp;we will see directly on the serial line:&nbsp;<br>&nbsp;<br>HTTP/1.1 200 OK&nbsp;<br>Date: Thu, 06 2003 10:21:58 GMT&nbsp;<br>Server: Apache/1.3.27 (Unix)&nbsp;<br>Last-Modified: Thu, 06 2003 10:21:58 GMT&nbsp;<br>Content-Type: text/html&nbsp;<br>Connection: close&nbsp;<br>&nbsp;<br>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 3.2 FINAL//EN&quot;&gt;&nbsp;<br>&lt;HTML&gt;&nbsp;<br>… here is all the HTML code of the page..&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;56 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=57></a><IMG src="Telit_IP_User_Guide_r10-57_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-57_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&lt;/HTML&gt;&nbsp;<br>&nbsp;<br>&lt;pause&gt;+++&lt;pause&gt;&nbsp;<br>OK&nbsp;<br>AT#SH=1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>The Telit module is now&nbsp;back to command mode and the socket is closed.&nbsp;<br>
&nbsp;<br>
3.5.2.<b>&nbsp;</b><br>
IP Easy&nbsp;-&nbsp;EMAIL&nbsp;sending application&nbsp;<br>
&nbsp;<br>
Let’s suppose we want to&nbsp;send with our embedded device an EMAIL by using a SMTP&nbsp;<br>server.&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp; Initial data:&nbsp;<br>
&nbsp;<br>
Server to be contacted&nbsp;<br>
smtp.domain.com&nbsp;<br>
SMTP service&nbsp;<br>
port #25&nbsp;<br>
Application Layer&nbsp;Protocol&nbsp;<br>
SMTP (RFC821)&nbsp;<br>
Sender&nbsp;<br>
&quot;module&quot;&lt;module@domain.com&gt;&nbsp;<br>
Receiver&nbsp;<br>
&quot;Receiver&quot;&lt;receiver@server.net&gt;&nbsp;<br>
Subject&nbsp;<br>
Email Test&nbsp;<br>
Message body&nbsp;<br>
This message is sent in order to&nbsp;<br>test IP Easy&nbsp;feature. &nbsp;Hello&nbsp;<br>World!&nbsp;<br>
Preliminary&nbsp;settings&nbsp;<br>APN&nbsp;<br>
internet&nbsp;<br>
IP of device&nbsp;<br>
dynamically&nbsp;assigned by the&nbsp;<br>network&nbsp;<br>
DNS&nbsp;<br>
assigned by the network&nbsp;<br>
USERID&nbsp;<br>
IPEASY &nbsp;<br>
PASSWORD&nbsp;<br>
IPEASY &nbsp;<br>
SMTP settings&nbsp;<br>SMTP server&nbsp;address&nbsp;<br>
smtp.domain.com &nbsp;<br>
Email account&nbsp;<br>USERID&nbsp;&nbsp;<br>
module@domain.com&nbsp;<br>
PASSWORD&nbsp;&nbsp;<br>
telit&nbsp;<br>
Socket parameters&nbsp;<br>Connection Identifier&nbsp;<br>
1&nbsp;<br>
Packet size (used by&nbsp;<br>TCP/UDP/IP&nbsp;stack for data&nbsp;<br>
300&nbsp;<br>
sending)&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;57 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=58></a><IMG src="Telit_IP_User_Guide_r10-58_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-58_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Socket inactivity timeout&nbsp;<br>
90&nbsp;<br>
Connection timeout&nbsp;<br>
600&nbsp;<br>
Data sending time out&nbsp;<br>
50&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
Checking on&nbsp;the RFC990 the SMTP service we&nbsp;can found that the port 25 is dedicated&nbsp;<br>for SMTP service, therefore our SMTP server will be waiting for incoming&nbsp;connections&nbsp;<br>on that port&nbsp;and we will fix the IPEASY port to be&nbsp;contacted on the remote server&nbsp;<br>exactly to 25.&nbsp;<br>&nbsp;<br>Second thing we have to discover is whether the transport protocol has to be TCP or&nbsp;<br>UDP; on the RFC821 we&nbsp;can read that the SMTP Application layer protocol is meant to&nbsp;<br>be on top of&nbsp;TCP/IP protocol, therefore the transport protocol choice will&nbsp;fall on TCP.&nbsp;<br>Now we have&nbsp;all the information needed to configure our system.&nbsp;<br>&nbsp;<br>The email can be sent following&nbsp;three different procedures: &nbsp;<br>&nbsp;&nbsp;<br>
1.&nbsp;&nbsp;Opening socket with SMTP server and then sending directly&nbsp;SMTP commands.&nbsp;<br>
The following AT commands should be issued to&nbsp;the Telit module:&nbsp;<br>
&nbsp;&nbsp;<br>
AT+CGDCONT = 1,&quot;IP&quot;,&quot;internet&quot;,&quot;0.0.0.0&quot;,0,0&lt;cr&gt;&nbsp;&nbsp;<br>
(context&nbsp;<br>
setting)&nbsp;<br>
&nbsp;<br>For all the socket settings the following AT command will&nbsp;be used:&nbsp;<br>&nbsp;<br>AT#SCFG=1,1,300,90,600,50&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Next step is activation of the context:&nbsp;<br>AT#SGACT=1,1,“EASY GPRS“,“EASY GPRS“&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>The command gives as response the IP address assigned by the network.&nbsp;<br>&nbsp;<br>Now we can proceed with&nbsp;contacting the server with AT command for socket dial:&nbsp;<br>AT#SD=1, 0,25,&quot;smtp.domain.com&quot;,0,0&lt;cr&gt;&nbsp;<br>
&nbsp;<br>When we receive the CONNECT indication, then we are exchanging&nbsp;data&nbsp;with the SMTP&nbsp;<br>server program on the remote host machine.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;58 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=59></a><IMG src="Telit_IP_User_Guide_r10-59_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-59_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Following the SMTP protocol we proceed with the HELO presentation and&nbsp;mail delivery&nbsp;<br>directly over the serial line (in blu you can&nbsp;find the data sent by us, in violet the one&nbsp;<br>received from host):&nbsp;<br>&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 220&nbsp;smtp.domain.com ESMTP Service (7.0.027-DD01)&nbsp;ready&nbsp;<br>&nbsp;<br>HELO pcprova&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;<br>&nbsp;250&nbsp;<br>
smtp.domain.com&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>AUTH LOGIN&lt;cr&gt;&lt;lf&gt;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;(authentication method)&nbsp;<br>
&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 334&nbsp;VXRlcm8gkXU6&nbsp;<br>&nbsp;<br>Z204NjJAZG9tYWluLmNvbQ==&lt;cr&gt;&lt;lf&gt;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; (module@domain.com base64 encoding)&nbsp;<br>&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 334&nbsp;UHFzc6dcvmQ6&nbsp;<br>&nbsp;<br>dGVsaXQ=&nbsp;&lt;cr&gt;&lt;lf&gt;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp; (telit base64&nbsp;encoding)&nbsp;<br>
&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 235&nbsp;2.0.0 OK Authenticated&nbsp;<br>&nbsp;<br>MAIL FROM:&nbsp;module@domain.com&nbsp;&lt;cr&gt;&lt;lf&gt;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Sender)&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;250&nbsp;2.1.0 module@domain.com... Sender ok&nbsp;<br>&nbsp;<br>RCPT TO:&nbsp;receiver@server.net&nbsp;&lt;cr&gt;&lt;lf&gt;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp; (Receiver)&nbsp;<br>
&nbsp;<br>&nbsp;250&nbsp;<br>
2.1.5&nbsp;<br>
receiver@server.net... Recipient ok&nbsp;<br>
&nbsp;<br>DATA&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;354 Enter mail, end with&nbsp;&quot;.&quot; on a line&nbsp;by itself&nbsp;<br>&nbsp;<br>Return-Receipt-To: &lt;&nbsp;module@domain.com&nbsp;&gt;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Reply-To: &lt;&nbsp;module@domain.com&nbsp;&gt;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>From: &lt;&nbsp;module@domain.com&nbsp;&gt;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>To: &lt;&nbsp;receiver@server.net&nbsp;&gt;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Subject: Email test&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Date: Fri, 19&nbsp;Sep 2003&nbsp;11:41:32&nbsp;+0200&lt;cr&gt;&lt;lf&gt;&nbsp;<br>MIME-Version: 1.0&lt;cr&gt;&lt;lf&gt;&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;59 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=60></a><IMG src="Telit_IP_User_Guide_r10-60_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-60_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
X-Priority: 3 (Normal)&nbsp;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>X-MSMail-Priority:&nbsp;Normal&lt;cr&gt;&lt;lf&gt;&nbsp;<br>X-Mailer: GM862&nbsp;TELIT SW, Build 1.0.1000&nbsp;(1.0.1111.0)&nbsp;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Importance: Normal&lt;cr&gt;&lt;lf&gt;&nbsp;<br>X-MimeOLE:&nbsp;Produced By GM862 TEST&nbsp;SW&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Content-Type: text/plain; &lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;charset=&quot;iso-8859-1&quot;&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Content-Transfer-Encoding: 7bit&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&lt;cr&gt;&lt;lf&gt;&nbsp;<br>This message is sent in order to test IP Easy&nbsp;feature. &nbsp;Hello World!&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&lt;cr&gt;&lt;lf&gt;&nbsp;<br>. &lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;250&nbsp;2.0.0 h8J9QNH3008461 Message&nbsp;accepted for delivery&nbsp;<br>&nbsp;<br>QUIT&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;<br>&nbsp;221&nbsp;<br>
2.0.0&nbsp;<br>
smtp.domain.com closing connection&nbsp;<br>
&nbsp;<br>+++&nbsp;<br>OK&nbsp;<br>AT#SH=1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>The Telit module is now&nbsp;back in the command mode and the socket is closed.&nbsp;<br>&nbsp;<br>2) Using only AT commands is with the following sequence of commands&nbsp;issued to the&nbsp;<br>Telit module:&nbsp;<br>&nbsp;<br>AT+CGDCONT=1,&quot;IP&quot;,&quot;internet&quot;,&quot;0.0.0.0&quot;,0,0&lt;cr&gt; (1-context setting)&nbsp;<br>AT#ESMTP = &quot;smtp.domain.com&quot;&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
(2-SMTP server setting)&nbsp;<br>
AT#EUSER = &quot;module@domain.com&quot;&lt;cr&gt; &nbsp;(3-Authentication&nbsp;<br>
setting)&nbsp;<br>
AT#EPASSW&nbsp;<br>
=&nbsp;<br>
&quot;telit&quot;&lt;cr&gt;&nbsp;<br>
&nbsp; &nbsp;(4-Authentication&nbsp;<br>
setting)&nbsp;<br>
AT#EADDR= &quot;module@telit.net&quot;&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
(5-Sender address setting)&nbsp;<br>
AT#ESAV&nbsp;<br>
&nbsp; &nbsp; &nbsp;(6-save&nbsp;<br>
settings)&nbsp;<br>
&nbsp;<br>
NOTE: &nbsp;<br>&nbsp;<br>Authentication settings&nbsp;could be different between context and SMTP. This is due to the&nbsp;<br>fact that in the&nbsp;context authentication it&nbsp;is requested user and password of your&nbsp;<br>internet provider, instead of the&nbsp;SMTP authentication where user and password is used&nbsp;<br>to connect to&nbsp;the SMTP server.&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;60 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=61></a><IMG src="Telit_IP_User_Guide_r10-61_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-61_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>Now we need to activate the context:&nbsp;<br>&nbsp;<br>AT#SGACT=1,1,“IPEASY“,“IPEASY“&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>This AT command gives&nbsp;as response the IP&nbsp;address of the module assigned by the&nbsp;<br>network.&nbsp;<br>&nbsp;<br>After receiving the OK indication,&nbsp;we&nbsp;can finally send an EMAIL:&nbsp;<br>AT#EMAILD=&quot;receiver@domain.com&quot;,&quot;Email test&quot;&nbsp;<br>&gt; this message is sent in order to test the IP Easy feature. &nbsp;Hello World!&nbsp;<br>CTRL-Z&nbsp;<br>
&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>SMTP&nbsp;works&nbsp;only on context one (AT#SGACT=1,1)&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
1.&nbsp;&nbsp;It is possible to attach a file to an email using&nbsp;#SMTPCL.&nbsp;<br>
#SMTPCL handles attachment, managing&nbsp;MIME&nbsp;headers and&nbsp;encoding if&nbsp;required.&nbsp;<br>&nbsp;<br>If it is specified that no attachment will be included(&lt;att&gt; parameter 0): command&nbsp;<br>behavior is the same as with #EMAILD.&nbsp;<br>&nbsp;<br>Otherwise: the command&nbsp;behaves like #EMAILD regarding&nbsp;message body text, then&nbsp;<br>modem goes into online mode(CONNECT indication is given)&nbsp;to allow the application&nbsp;to&nbsp;<br>send the attachment.&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; The escape sequence has to be&nbsp;used to close the SMTP connection.&nbsp;<br>&nbsp;<br>Encoding of&nbsp;data received&nbsp;on the serial&nbsp;port is performed if required(&lt;encod&gt;&nbsp;<br>parameter),&nbsp;before transmission on the SMTP socket.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SMTPCL=&lt;da&gt;,&lt;subj&gt;,&lt;att&gt;[,&lt;filename&gt;,&lt;encod&gt;]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>&lt;da&gt;&nbsp;- destination address, string type.&nbsp;<br>(maximum length 100 characters) &nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;61 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=62></a><IMG src="Telit_IP_User_Guide_r10-62_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-62_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&lt;subj&gt;&nbsp;- subject of the message, string type.&nbsp;<br>(maximum length 100 characters) &nbsp;<br>&nbsp;<br>&lt;att&gt;&nbsp;- attached file flag&nbsp;<br>0 – no attachment&nbsp;<br>1 – attach a&nbsp;txt file&nbsp;<br>2 – attach a&nbsp;binary&nbsp;file(jpg,bin,pdf,...)&nbsp;<br>&nbsp;<br>&lt;filename&gt;&nbsp;- attached file name&nbsp;&nbsp;<br>(maximum&nbsp;length 50 characters)&nbsp;<br>&nbsp;<br>&lt;encod&gt;&nbsp;-Content-Transfer-Encoding used for attachment&nbsp;<br>0 – “7bit” means data all represented as short lines of &nbsp;<br>US-ASCII data&nbsp;<br>1 – “base64” designed to represent arbitrary sequences of&nbsp;<br>octets in a form that need not be humanly readable&nbsp;<br>&nbsp;<br>Note: &nbsp;<br>If a txt file (&lt;att&gt;=1) is attached, only&nbsp;&lt;encod&gt;0(“7bit”) is possible.&nbsp;<br>If a binary file (&lt;att&gt;=2) is attached, only&nbsp;&lt;encod&gt;1(“base64”) is possible.&nbsp;<br>&nbsp;<br>Examples&nbsp;<br>&nbsp;<br>at#smtpcl=&quot;receiver@domain.com&quot;,&quot;Email test2&quot;,1,&quot;sample.txt&quot;,0&nbsp;<br>&gt;message body...this is the text of the mail message…&nbsp;<br>Send CTRL-Z&nbsp;<br>CONNECT &nbsp;<br>&nbsp;<br>…data received on the serial&nbsp;port are sent as attachment….&nbsp;<br>&nbsp;<br>Send escape sequence to close the SMTP connection&nbsp;<br>+++ &nbsp;<br>NO CARRIER&nbsp;<br>&nbsp;<br>at#smtpcl=&quot;receiver@domain.com&quot;,&quot;&nbsp;Email test3&quot;,2,&quot;image.jpg&quot;,1&nbsp;<br>&gt;message body...this is the text of the mail message…&nbsp;<br>Send CTRL-Z&nbsp;<br>CONNECT &nbsp;<br>&nbsp;<br>…data received on the serial&nbsp;port are base64-encoded and sent as attachment….&nbsp;<br>&nbsp;<br>Send escape sequence to close the SMTP connection&nbsp;<br>+++ &nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;62 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=63></a><IMG src="Telit_IP_User_Guide_r10-63_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-63_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
NO CARRIER &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
3.5.3.<b>&nbsp;</b><br>
IP Easy&nbsp;-EMAIL receiving&nbsp;application&nbsp;<br>
&nbsp;<br>
Let's suppose we want to&nbsp;receive with&nbsp;our embedded device an EMAIL by using a POP3&nbsp;<br>server.&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp; Initial data:&nbsp;<br>
Server to be contacted&nbsp;<br>
POP.mail.server&nbsp;<br>
POP service&nbsp;<br>
port #110&nbsp;<br>
Application Layer&nbsp;Protocol&nbsp;<br>
POP3 (RFC1785)&nbsp;<br>
Receiver&nbsp;<br>
&nbsp;<br>&quot;module&quot;&lt;module@domain.com&gt;&nbsp;<br>
Email account username&nbsp;<br>
&nbsp;module@domain.com&nbsp;<br>
Email account password&nbsp;<br>
&nbsp;telit&nbsp;<br>
Context settings&nbsp;<br>APN&nbsp;<br>
internet&nbsp;<br>
IP of device&nbsp;<br>
dynamically&nbsp;assigned by the&nbsp;<br>network&nbsp;<br>
DNS&nbsp;<br>
assigned by the network&nbsp;<br>
USERID&nbsp;<br>
IPEASY &nbsp;<br>
PASSWORD&nbsp;<br>
IPEASY &nbsp;<br>
Socket parameters&nbsp;<br>Connection Identifier&nbsp;<br>
1&nbsp;<br>
Packet size (used by&nbsp;<br>TCP/UDP/IP&nbsp;stack for data&nbsp;<br>
300&nbsp;<br>
sending)&nbsp;<br>Socket inactivity timeout&nbsp;<br>
90&nbsp;<br>
Connection timeout&nbsp;<br>
600&nbsp;<br>
Data sending time out&nbsp;<br>
50&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Checking on&nbsp;the RFC1785, we can found that&nbsp;the&nbsp;port 110 is&nbsp;dedicated for POP3 service,&nbsp;<br>therefore our POP server&nbsp;will be waiting for incoming connections on that port and we&nbsp;<br>will fix&nbsp;the IP EASY port to be contacted on the remote server exactly to 110.&nbsp;<br>Second thing we have to discover is whether the transport protocol has to be TCP or&nbsp;<br>UDP; on the RFC1785 we&nbsp;can read that the POP3 Application layer protocol is meant to&nbsp;<br>be on top of&nbsp;TCP/IP protocol, therefore the transport protocol choice will&nbsp;fall on TCP.&nbsp;<br>Now we have&nbsp;all the information needed to configure our system.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;63 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=64></a><IMG src="Telit_IP_User_Guide_r10-64_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-64_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>With our microcontroller we can now issue to the Telit module the following AT&nbsp;<br>commands:&nbsp;<br>&nbsp;<br>
AT+CGDCONT = 1,&quot;IP&quot;,&quot;internet&quot;,&quot;0.0.0.0&quot;,0,0&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(1- context setting)&nbsp;<br>
&nbsp;<br>For all the socket settings the following AT command will&nbsp;be used:&nbsp;<br>&nbsp;<br>AT#SCFG=1,1,300,90,600,50&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>&nbsp;<br>Next step is activation of the context:&nbsp;<br>AT#SGACT=1,1,“IPEASY“,“IPEASY“&nbsp;<br>#SGACT: 193.199.234.255&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>The commands gives as response the IP address assigned to the module by the&nbsp;<br>network.&nbsp;<br>&nbsp;<br>AT#SD=1,0,110,&quot;POP.mail.server&quot;,0,0&lt;cr&gt;&nbsp;<br>
When we receive the CONNECT indication, then we are exchanging&nbsp;data&nbsp;with the POP3&nbsp;<br>server program on the remote host machine.&nbsp;<br>Following the POP3 protocol we can&nbsp;proceed with&nbsp;the authentication directly over the&nbsp;<br>serial line (in blue you can find the data sent&nbsp;by&nbsp;us, in violet&nbsp;the one received from host):&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK POP3 PROXY server ready (7.0.027)&nbsp;&lt;A6B4DDEA93433C73A01@pop4.libero.it&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br>USER module@domain.com&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK Password required&nbsp;<br>&nbsp;<br>PASS telit&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK 1&nbsp;messages&nbsp;<br>&nbsp;<br>LIST\r\n&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;1&nbsp;19550&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp;.&nbsp;<br>&nbsp;<br>
RETR 1&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK 19550 bytes&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;Return-Path: &lt;module@domain.com&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;Received: from smtp5.libero.it (193.70.192.55)&nbsp;by&nbsp;ims2d.libero.it (7.0.028)&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;64 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=65></a><IMG src="Telit_IP_User_Guide_r10-65_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-65_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp;&nbsp;id 40DFC49A010E5708 for test@libero.it; Tue,&nbsp;17 Aug 2004&nbsp;12:24:02+0200&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;Received: from smtp.telital.com (194.185.15.65) by smtp5.libero.it (7.0.027-DD01)&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;.&nbsp;<br>&nbsp;<br>QUIT&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp;+OK POP3 server closing connection&nbsp;<br>+++&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SH=1&nbsp;<br>OK&nbsp;<br>
3.5.4.<b>&nbsp;</b><br>
Remote connection between two modules&nbsp;<br>
&nbsp;<br>
Configuration for the module that receives data (server):&nbsp;<br>
&nbsp;<br>
Define PDP Context&nbsp;<br>
AT+CGDCONT=1,”IP”,”ibox.tim.it”,”0.0.0.0”&nbsp;<br>
Context Activation&nbsp;<br>
AT#SGACT=1,1&nbsp;<br>
Firewall Setup&nbsp;<br>
AT#FRWL=1,”198.158.1.1”,”0.0.0.0”&nbsp;<br>
Socket Listen&nbsp;<br>
AT#SL=1,1,0,1024&nbsp;<br>
&nbsp;<br>
First you have to define PDP context&nbsp;filling in the&nbsp;information&nbsp;of APN in this example:&nbsp;<br>ibox.tim.it.&nbsp;<br>Next step is activation of context which gives&nbsp;as reply the IP of the module&nbsp;assigned by&nbsp;<br>network:&nbsp;<br>AT#SGACT=1,1&nbsp;<br>#SGACT: 217.201.142.223&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Before opening socket in listen it is possible&nbsp;to define an accept firewall chain in order&nbsp;<br>to filter IP of the senders.&nbsp;<br>At the end with AT command AT#SL=1,1,1024,0 the socket will be set in listen on the&nbsp;<br>port #1024.&nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Configuration for the module that opens connection (client):&nbsp;<br>
&nbsp;<br>
Define PDP Context&nbsp;<br>
AT+CGDCONT=1,”IP”,”ibox.tim.it”,”0.0.0.0”&nbsp;<br>
Context Activation&nbsp;<br>
AT#SGACT=1,1&nbsp;<br>
Socket Dial&nbsp;<br>
AT#SD=2,0,1024,”217.201.142.223”&nbsp;<br>
&nbsp;<br>
First you have to define PDP context&nbsp;filling in the&nbsp;information&nbsp;of APN in this example:&nbsp;<br>ibox.tim.it.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;65 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=66></a><IMG src="Telit_IP_User_Guide_r10-66_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-66_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Next step is activation of context which gives&nbsp;as reply the IP of the module&nbsp;assigned by&nbsp;<br>network. Now you can open the connection&nbsp;with the remote host with IP address&nbsp;<br>217.201.142.223 on&nbsp;the port 1024&nbsp;(as&nbsp;in example).&nbsp;<br>&nbsp;<br>&nbsp;<br>NOTE12: &nbsp;<br>&nbsp;<br>IP of the modules can be verified&nbsp;with&nbsp;the following AT command line: AT#CGPADDR=&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>12&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;66 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=67></a><IMG src="Telit_IP_User_Guide_r10-67_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-67_2.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-67_3.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
4.<b>&nbsp;</b><br>
Easy GSM13&nbsp;<br>
4.1.<b>&nbsp;</b><br>
Overview&nbsp;<br>
This new&nbsp;feature allows the&nbsp;Telit module&nbsp;users to connect to&nbsp;an Internet&nbsp;Service&nbsp;<br>Provider through a GSM&nbsp;CSD call and to use the&nbsp;embedded TCP/IP stack, such as in IP&nbsp;<br>Easy, to contact a device in Internet&nbsp;and establish with it a raw data flow over the&nbsp;<br>Internet networks.&nbsp;<br>The connection between&nbsp;the module and the Provider is based on PPP protocol over a&nbsp;<br>GSM CSD call.&nbsp;<br>An example of the protocol stack involved in the devices is reported:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>&nbsp;<br>
In this case&nbsp;the speed at which packets can be downloaded is limited to the maximum&nbsp;<br>data rate for a data call, 14400 bps.&nbsp;<br>All the features of Telit multisocket, FTP and EMAIL can be used over the GSM carrier. &nbsp;<br>In order to enable GSM carrier, a particular context has to be activated with&nbsp;<br>identification number 0. The use of this context is analogue to that of&nbsp;<br>GPRS/UMTS/HSPA contexts.&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>13&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;67 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=68></a><IMG src="Telit_IP_User_Guide_r10-68_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-68_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
4.2.<b>&nbsp;</b><br>
Commands overview&nbsp;<br>
&nbsp;<br>
This paragraph describes the configuration&nbsp;and the activation of the GSM context and&nbsp;<br>the new AT commands implemented to facilitate&nbsp;the use of Easy GSM and IP Easy in the&nbsp;<br>same device.&nbsp;<br>For more information about concerning outgoing&nbsp;and incoming&nbsp;connections, you can&nbsp;<br>refer to the chapter “Enhanced IP Easy Extension“: there are no differences at sockets&nbsp;<br>level.&nbsp;<br>&nbsp;<br>NOTE:&nbsp;&nbsp;<br>&nbsp;<br>For more detailed AT commands and parameters definitions&nbsp;consult the&nbsp;AT Commands&nbsp;<br>Reference Guide.&nbsp;<br>
4.2.1.<b>&nbsp;</b><br>
Configuring GSM access&nbsp;<br>
&nbsp;<br>
GSM context&nbsp;definition differs&nbsp;from GPRS/UMTS/HSPA one and requires a new&nbsp;<br>command:&nbsp;#GSMCONT, that replaces, just in GSM case, the standard +CGDCONT.&nbsp;The&nbsp;<br>only parameter to set is the number of the Internet Service Provider.&nbsp;The command&nbsp;<br>syntax is:&nbsp;<br>&nbsp;<br>AT#GSMCONT=0, “IP“,&nbsp;&lt;CSD num&gt;&nbsp;<br>&nbsp;<br>Where &nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;is the context identifier for the GSM&nbsp;context&nbsp;<br>&nbsp;&nbsp;CSD num&nbsp;&nbsp;is the Internet Service Provider number&nbsp;<br>
&nbsp;&nbsp;<br>
4.2.2.<b>&nbsp;</b><br>
Configuring the embedded TCP/IP stack&nbsp;<br>
&nbsp;<br>
The context identifier reserved to the GSM context is 0.&nbsp;<br>To use GSM carrier, and before activating the context, you have to configure at least&nbsp;<br>one socket on the connection identifier 0, through the command #SCFG.&nbsp;<br>
4.2.3.<b>&nbsp;</b><br>
Request GSM context to be activated&nbsp;<br>
&nbsp;<br>
GSM context&nbsp;activation is&nbsp;done through the same command #SGACT, with&nbsp;0 as context&nbsp;<br>identifier. &nbsp;<br>We cannot activate more than one GSM context at the same time.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;68 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=69></a><IMG src="Telit_IP_User_Guide_r10-69_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-69_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
The activation may require also in this case&nbsp;two Authentication parameters: User Name&nbsp;<br>and Password, depending on the Internet Service Provider that we want to connect to.&nbsp;<br>&nbsp;<br>So the command syntax is the same as for GPRS/HSPA/UMTS:&nbsp;<br>&nbsp;<br>#SGACT= 0,&lt;Status&gt;, [&lt;Username&gt;],[&lt;Password&gt;]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;0&nbsp;is the context that we&nbsp;want to activate/deactivate.&nbsp;<br>&nbsp;&nbsp;Status&nbsp;is the context status (0 means deactivation, 1 activation).&nbsp;<br>
&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We want to activate GSM context defined&nbsp;with #GSMCONT.&nbsp;<br>&nbsp;<br>Command:&nbsp;<br>&nbsp;<br>AT#SGACT = 0,1&nbsp;<br>
&nbsp;<br>Answer:&nbsp;<br>#SGACT: “10.137.93.60”&nbsp;<br>
OK&nbsp;if activation success.&nbsp;<br>&nbsp;<br>
ERROR&nbsp;if activation fails.&nbsp;<br>&nbsp;<br>The response code&nbsp;to the AT#SGACT=0,1 command reports the&nbsp;IP address obtained&nbsp;<br>from the network, allowing the user to report it to his server or application. &nbsp;<br>Deactivating the&nbsp;context implies freeing the&nbsp;network resources previously allocated to&nbsp;<br>the device.&nbsp;<br>
4.2.4.<b>&nbsp;</b><br>
IP address information&nbsp;<br>
&nbsp;<br>
Once activated the GSM context, to interrogate the module about the IP address&nbsp;<br>assigned by the network, a new command has been implemented:&nbsp;#CGPADDR.&nbsp;It&nbsp;<br>reports the all addresses relative to the active contexts; contexts are displayed exactly&nbsp;<br>like in the case of the standard +CGPADDR.&nbsp;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We want to activate GSM context defined&nbsp;with #GSMCONT.&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;69 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=70></a><IMG src="Telit_IP_User_Guide_r10-70_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-70_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Command:&nbsp;<br>AT#SGACT = 0,1&nbsp;<br>
&nbsp;<br>Answer:&nbsp;<br>#SGACT: “10.137.93.60”&nbsp;<br>
&nbsp;<br>Now we want to display the IP address.&nbsp;<br>&nbsp;<br>Command:&nbsp;<br>AT#CGPADDR = 0&nbsp;<br>
&nbsp;<br>Answer:&nbsp;<br>#CGPADDR: 0,” 10.137.93.60”&nbsp;<br>
&nbsp;<br>
4.2.5.<b>&nbsp;</b><br>
Limitations and connections with&nbsp;other AT commands&nbsp;<br>
&nbsp;<br>
If the GSM context is active, it is&nbsp;not allowed to activate a context.&nbsp;&nbsp;<br>This check has been introduced because context activation&nbsp;would fail anyway: Telit&nbsp;<br>module works in Class B, so, if a GSM CSD&nbsp;call is on, no GPRS operation is possible.&nbsp;<br>&nbsp;<br>GSM context&nbsp;activation is&nbsp;affected, like&nbsp;all CSD calls, by the AT+CBST command. The&nbsp;<br>maximum data rate that&nbsp;can be set through this command is&nbsp;14400 bps (Network&nbsp;<br>dependent).&nbsp;<br>Context activation is just&nbsp;allowed with&nbsp;“non&nbsp;transparent” data calls. This property is the&nbsp;<br>default value of one of the AT+CBST command parameters.&nbsp;<br>&nbsp;<br>The commands AT+COPS=? and AT#CSURV return ERROR if&nbsp;a data call&nbsp;is active. The&nbsp;<br>same commands return ERROR also&nbsp;if a GSM context is active.&nbsp;<br>
4.3.<b>&nbsp;</b><br>
Examples&nbsp;<br>
4.3.1.<b>&nbsp;</b><br>
Easy GSM - HTTP client application&nbsp;<br>
&nbsp;<br>
Let’s suppose we want to&nbsp;connect our embedded device to an HTTP server and retrieve&nbsp;<br>an HTML page using the&nbsp;EASY GSM feature. This example is analogue to the one given&nbsp;<br>for GPRS/UMTS/HSPA carrier.&nbsp;<br>Suppose to&nbsp;use a sim TIM.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;70 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=71></a><IMG src="Telit_IP_User_Guide_r10-71_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-71_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp;&nbsp; Initial data:&nbsp;<br>
Server to be contacted&nbsp;<br>
www.telit.com&nbsp;<br>
Application Layer&nbsp;Protocol&nbsp;<br>
HTTP1.0 (RFC1945);&nbsp;<br>HTTP1.1 (RFC2068)&nbsp;<br>
Page to be retrieved&nbsp;<br>
&nbsp;homepage&nbsp;of server&nbsp;<br>
Context settings&nbsp;<br>Provider number&nbsp;<br>
“3359009000“&nbsp;<br>
IP of the device&nbsp;<br>
dynamically&nbsp;assigned by the&nbsp;<br>network&nbsp;<br>
DNS&nbsp;<br>
assigned by the network&nbsp;<br>
USERID&nbsp;<br>
Userid of the TIM account&nbsp;<br>
PASSWORD&nbsp;<br>
Password of the TIM &nbsp;<br>account&nbsp;<br>
Socket parameters&nbsp;<br>Connection Identifier&nbsp;<br>
0&nbsp;<br>
Packet size (used by&nbsp;<br>TCP/UDP/IP&nbsp;stack for data&nbsp;<br>
300&nbsp;<br>
sending)&nbsp;<br>Socket inactivity timeout&nbsp;<br>
90&nbsp;<br>
Connection timeout&nbsp;<br>
600&nbsp;<br>
Data sending time out&nbsp;<br>
50&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>
Our HTTP server will be waiting&nbsp;for incoming connections on port 80 and we will fix&nbsp;the&nbsp;<br>port to be contacted on the remote server exactly to 80.&nbsp;<br>As transport protocol we&nbsp;choose TCP.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>With our microcontroller we issue to the Telit module the following AT commands:&nbsp;<br>
AT#GSMCONT = 0,&quot;IP&quot;,&quot;3359009000&quot;&lt;cr&gt;&nbsp; &nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
(GSM context setting)&nbsp;<br>
&nbsp;<br>&nbsp;<br>For the all socket settings, the following AT command will&nbsp;be used:&nbsp;<br>&nbsp;<br>AT#SCFG=1,0,300,90,600,50&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Next step is activation of the GSM context:&nbsp;<br>AT#SGACT=0,1, “userid“,“password“&nbsp;<br>#SGACT: 10.137.93.60&nbsp;<br>OK&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;71 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=72></a><IMG src="Telit_IP_User_Guide_r10-72_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-72_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>This command replies with the IP address assigned by the network. &nbsp;<br>&nbsp;<br>Now we can proceed with&nbsp;contacting the server with AT command for socket dial:&nbsp;<br>AT#SD=1,0,80,”www.telit.com”,0,0&nbsp;<br>
&nbsp;<br>When we receive the CONNECT indication, then we are exchanging&nbsp;data&nbsp;with the HTTP&nbsp;<br>server program on the remote host machine.&nbsp;<br>
&nbsp;<br>
Now following the HTTP protocol we&nbsp;ask for the homepage by sending the following&nbsp;<br>lines on the serial line:&nbsp;<br>GET / HTTP/1.1&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Host: www.telit.com&lt;cr&gt;&lt;lf&gt;&nbsp;<br>Connection: keep-alive&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&lt;cr&gt;&lt;lf&gt;&nbsp;<br>&nbsp;<br>As a response to our query, the HTTP server will reply with the HTML code of the&nbsp;<br>homepage and some debugging responses that&nbsp;we will see directly on the serial line:&nbsp;<br>&nbsp;<br>HTTP/1.1 200 OK&nbsp;<br>Date: Thu, 06 2003&nbsp;10:21:58 GMT&nbsp;<br>Server: Apache/1.3.27 (Unix)&nbsp;<br>Last-Modified: Thu, 06 2003&nbsp;10:21:58&nbsp;GMT&nbsp;<br>Content-Type: text/html&nbsp;<br>Connection: close&nbsp;<br>&nbsp;<br>&lt;!DOCTYPE&nbsp;HTML PUBLIC &quot;-//W3C//DTD HTML 3.2 FINAL//EN&quot;&gt;&nbsp;<br>&lt;HTML&gt;&nbsp;<br>… here is all the HTML code of the page..&nbsp;<br>&lt;/HTML&gt;&nbsp;<br>&nbsp;<br>&lt;pause&gt;+++&lt;pause&gt;&nbsp;<br>OK&nbsp;<br>AT#SH=1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>The Telit module is now&nbsp;back to command mode and the socket is closed.&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;72 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=73></a><IMG src="Telit_IP_User_Guide_r10-73_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-73_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
4.3.2.<b>&nbsp;</b><br>
FTP file transfer&nbsp;<br>
&nbsp;<br>
Let’s suppose we want to&nbsp;send a file&nbsp;to a FTP server.&nbsp;<br>&nbsp;<br>Define GSM context:&nbsp;<br>AT#GSMCONT=0,”IP”, &quot;3359009000&quot;&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>GSM Context Activation, as response gives IP of the module:&nbsp;<br>AT#SGACT=0,1 &lt;cr&gt;&nbsp;<br>#SGACT: 10.137.93.60&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Opening of&nbsp;FTP connection:&nbsp;<br>
AT#FTPTO=1000&lt;cr&gt;&nbsp;&nbsp;&nbsp;<br>
(FTP settings of time-out)&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>AT#FTPOPEN=”199.188.25.77”,”userid”,”password”,0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
In this case&nbsp;the port of the FTP server is not specified,&nbsp;which means that it has the&nbsp;<br>default value: 21&nbsp;<br>&nbsp;<br>
AT#FTPTYPE=0&lt;cr&gt;&nbsp;<br>
&nbsp;<br>
(FTP settings of file type)&nbsp;&nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>FTP file transfer to the server&nbsp;in the file named “file.txt”:&nbsp;<br>AT#FTPPUT=&quot;file.txt&quot;&lt;cr&gt;&nbsp;<br>CONNECT&nbsp;<br>
&nbsp;<br>(send the file)&nbsp;<br>&nbsp;<br>
+++&nbsp;&nbsp;&nbsp;(escape&nbsp;<br>
sequence&nbsp;<br>
+++&nbsp;to close the data connection)&nbsp;<br>
NOCARRIER&nbsp;<br>
&nbsp;<br>
AT#FTPCLOSE&lt;cr&gt;&nbsp;<br>
(closing FTP connection) &nbsp;<br>
OK&nbsp;<br>
&nbsp;<br>Deactivation&nbsp;of GSM context if required:&nbsp;<br>AT#SGACT=0,0&lt;cr&gt;&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
4.3.3.<b>&nbsp;</b><br>
Remote connection between two modules&nbsp;<br>
&nbsp;<br>
In this example we&nbsp;send data from a&nbsp;module using IP EASY to a module using EASY&nbsp;<br>GSM.&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;73 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=74></a><IMG src="Telit_IP_User_Guide_r10-74_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-74_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>Configuration for the module that receives data (server):&nbsp;<br>
&nbsp;<br>
Define GSM Context&nbsp;<br>
AT#GSMCONT=0,”IP”,” 3359009000”,”0.0.0.0”&nbsp;<br>
Context Activation&nbsp;<br>
AT#SGACT=0,1&nbsp;<br>
&nbsp;<br>
You have to define GSM&nbsp;context filling&nbsp;in the information of the Internet&nbsp;Service&nbsp;<br>Provider Number.&nbsp;<br>Next step is activation of GSM context which gives as reply the IP of the module&nbsp;<br>assigned by network:&nbsp;<br>&nbsp;<br>AT#SGACT=0,1&nbsp;<br>#SGACT: 217.200.58.225&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Configuration for the module that opens connection (client):&nbsp;<br>
&nbsp;<br>
Define PDP Context&nbsp;<br>
AT+CGDCONT=1,”IP”,”ibox.tim.it”,”0.0.0.0”&nbsp;<br>
Context Activation&nbsp;<br>
AT#SGACT=1,1&nbsp;<br>
&nbsp;<br>
You have to define PDP&nbsp;context filling&nbsp;in the information of&nbsp;APN in this example:&nbsp;<br>ibox.tim.it.&nbsp;<br>Next step is activation of context which gives&nbsp;as reply the IP of the module&nbsp;assigned by&nbsp;<br>network. &nbsp;<br>&nbsp;<br>AT#SGACT=1,1&nbsp;<br>#SGACT: 217.201.142.223&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Now, on the&nbsp;server side,&nbsp;before opening socket in listen it is possible to define an&nbsp;<br>accept firewall chain in order to filter&nbsp;IP of the senders.&nbsp;<br>Then with the AT command AT#SL=1,1,1024,0 the&nbsp;socket will be set in listen on the port&nbsp;<br>#1024: &nbsp;<br>
&nbsp;<br>
Firewall Setup&nbsp;<br>
AT#FRWL=1,” 217.201.142.223”,”0.0.0.0”&nbsp;<br>
Socket Listen&nbsp;<br>
AT#SL=1,1,1024&nbsp;<br>
&nbsp;<br>&nbsp;<br>
On the client side, you can open the connection with the remote host with IP address&nbsp;<br>217.200.58.225 on the&nbsp;port 1024 (as in&nbsp;example):&nbsp;<br>
&nbsp;<br>
Socket Dial&nbsp;<br>
AT#SD=2,0,1024,”&nbsp;217.200.58.225”&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;74 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=75></a><IMG src="Telit_IP_User_Guide_r10-75_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-75_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
NOTE: &nbsp;<br>&nbsp;<br>IP of the modules can be verified&nbsp;with&nbsp;the following AT command line: AT#CGPADDR=&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;75 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=76></a><IMG src="Telit_IP_User_Guide_r10-76_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-76_2.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-76_3.png"><br>
<IMG src="Telit_IP_User_Guide_r10-76_4.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
5.<b>&nbsp;</b><br>
Command Mode Connections&nbsp;<br>
5.1.<b>&nbsp;</b><br>
Overview&nbsp;<br>
&nbsp;<br>
This feature allows Telit’s modules to establish&nbsp;a socket connection in command mode. &nbsp;<br>The “classic”&nbsp;online mode connection is described in the figure below:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
With command mode feature now we have:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
This means&nbsp;that the socket connection is created, but the user can give&nbsp;AT commands&nbsp;<br>as usually in&nbsp;command mode. If we&nbsp;receive some&nbsp;data on a socket a SRING message is&nbsp;<br>raised.&nbsp;<br>
5.2.<b>&nbsp;</b><br>
Commands Overview&nbsp;<br>
&nbsp;<br>
This paragraph describes the configuration and the activation of a command mode&nbsp;<br>connection and the AT commands implemented to use the&nbsp;new configuration socket&nbsp;<br>parameters.&nbsp;<br>For anything&nbsp;concerning outgoing&nbsp;and incoming&nbsp;connections, you can refer to the&nbsp;<br>chapter “Enhanced IP Easy Extension“: there are no differences at sockets level.&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;76 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=77></a><IMG src="Telit_IP_User_Guide_r10-77_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-77_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>NOTE:&nbsp;<br>&nbsp;For more detailed AT commands and parameters definitions consult the AT&nbsp;<br>Commands Reference Guide.&nbsp;<br>
&nbsp;<br>
5.2.1.<b>&nbsp;</b><br>
Opening a socket&nbsp;connection in&nbsp;command&nbsp;mode&nbsp;<br>
&nbsp;<br>
To open a socket in command mode we must use the multisocket commands AT#SD or&nbsp;<br>AT#SA.&nbsp;<br>After a PDP context activation with AT#SGACT it is possible to open all sockets&nbsp;<br>associated to&nbsp;this PDP context in command mode using:&nbsp;<br>&nbsp;<br>AT#SD=&lt;connId&gt;,&lt;txProt&gt;,&lt;rPort&gt;,&lt;IPaddr&gt;[,&lt;closure type&gt;[,&lt;lPort&gt;],1]]&nbsp;<br>&nbsp;<br>In case of listening, after an unsolicited&nbsp;indication for an incoming connection&nbsp;<br>&nbsp;<br>SRING: &lt;connId&gt;&nbsp;<br>&nbsp;<br>we have to use:&nbsp;<br>&nbsp;<br>AT#SA = &lt;connId&gt;,1&nbsp;<br>&nbsp;<br>where the last parameter of AT#SD and AT#SA is &lt;ConnMode&gt;. Default value is 0&nbsp;<br>which means “classic” online mode,&nbsp;1 is used for command mode.&nbsp;<br>&nbsp;<br>Examples:&nbsp;<br>&nbsp;<br>Open a command mode socket on connection Id&nbsp;number 1:&nbsp;<br>&nbsp;<br>AT#SD =1,0,10510,”88.37.127.146”,0,0,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>After an unsolicited indication for an&nbsp;incoming connection on a listening&nbsp;connId:&nbsp;<br>&nbsp;<br>SRING: 1&nbsp;<br>&nbsp;<br>AT#SA = 1,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>In “classic”&nbsp;online mode, if the connection is successful we have a CONNECT message,&nbsp;<br>in this case we have only an OK message in case of success&nbsp;and we are&nbsp;still in&nbsp;<br>command mode.&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;77 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=78></a><IMG src="Telit_IP_User_Guide_r10-78_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-78_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
To check if the connection is really&nbsp;established&nbsp;we ca use the AT#SS command to&nbsp;<br>control socket status.&nbsp;<br>
&nbsp;<br>
AT#SS&nbsp;<br>
&nbsp;<br>
#SS: 1,2,217.202.12.22,38158,88.37.127.146,10510&nbsp;<br>#SS: 2,0&nbsp;<br>#SS: 3,0&nbsp;<br>#SS: 4,0&nbsp;<br>#SS: 5,0&nbsp;<br>#SS: 6,0&nbsp;<br>
&nbsp;<br>&nbsp;<br>We can see that connection Id 1 is opened in suspended state.&nbsp;<br>
5.2.2.<b>&nbsp;</b><br>
Configuring extended socket parameters&nbsp;<br>
&nbsp;<br>
Before opening socket connections it is&nbsp;possible to set extended configuration&nbsp;<br>parameters&nbsp;on each of six sockets available&nbsp;with multisocket.&nbsp;<br>The main feature regards SRING unsolicited messages.&nbsp;These messages inform the&nbsp;<br>user that there are pending data on&nbsp;a specific connection Id.&nbsp;<br>We have three modes:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;Classic SRING: only one message (SRING: &lt;connId&gt; ) when some new data arrive on a&nbsp;<br>
socket connection ( like it was for a socket&nbsp;connection of multisocket). This message is&nbsp;<br>received also&nbsp;when there’s an incoming connection on listening connection Id.&nbsp;<br>
&nbsp;&nbsp;Data amount SRING: an unsolicited&nbsp;message is&nbsp;raised for every new packet received&nbsp;on&nbsp;<br>
a socket connection. The message gives information on the connection id&nbsp;and on the&nbsp;<br>number of bytes pending in the socket buffer.&nbsp;<br>
&nbsp;&nbsp;View data SRING: in this&nbsp;message we have connection Id, amount of buffered data by&nbsp;<br>
the socket and a string (up to 64 chars) with&nbsp;the dump of data extracted from the socket&nbsp;<br>buffer.&nbsp;An unsolicited is&nbsp;raised until&nbsp;the socket buffer&nbsp;is empty. In this specific case&nbsp;we&nbsp;<br>can decide to see data as text or as hex&nbsp;using the &lt;recvDataMode&gt; parameter (default&nbsp;<br>value is 0 – text).&nbsp;<br>&nbsp;<br>NOTE: &nbsp;<br>&nbsp;<br>the data amount is updated until the maximum TCP windows&nbsp;size for reception is&nbsp;<br>reached.&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;78 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=79></a><IMG src="Telit_IP_User_Guide_r10-79_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-79_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
The command syntax is:&nbsp;<br>&nbsp;<br>AT#SCFGEXT = &lt;connId&gt;,&lt;srMode&gt;,&lt;recvDataMode&gt;,&lt;keepalive&gt;&nbsp;<br>[,&lt;ListenAutoRsp&gt; [,&lt;sendDataMode&gt;] ]&nbsp;<br>&nbsp;<br>NOTE:&nbsp;<br>&nbsp;<br>For UC864-G, UC864-E, UC864-E-DUAL, UC864-E-AUTO and UC864-WD&nbsp;the command&nbsp;<br>syntax is:&nbsp;<br>&nbsp;<br>AT#SCFGEXT = &lt;connId&gt;,&lt;srMode&gt;,&lt;recvDataMode&gt;,&lt;keepalive&gt;&nbsp;<br>[,&lt;unused_A&gt; [,&lt;unused_B&gt;] ]&nbsp;<br>
&nbsp;<br>
&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;&lt;connId&gt; is&nbsp;the connection identifier.&nbsp;<br>&nbsp;&nbsp;&lt;srMode&gt; is the unsolicited Sring mode.&nbsp;<br>&nbsp;&nbsp;&lt;recvDataMode&gt; - sets text or hex data view&nbsp;for&nbsp;received data&nbsp;in command&nbsp;<br>
mode&nbsp;<br>
&nbsp;&nbsp;&lt;KeepAlive&gt;&nbsp;sets TCP keepalive parameter in minutes (up to&nbsp;240),&nbsp;0 means&nbsp;<br>
keepalive disabled.&nbsp;<br>
&nbsp;&nbsp;&lt;ListenAutoRsp&gt; - Set&nbsp;the listen auto-response mode, that affects the&nbsp;<br>
commands AT#SL &nbsp;and AT#SLUDP14&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;sendDataMode&gt; - sets text or hex data&nbsp;mode for sending data in command&nbsp;<br>
mode(AT#SSEND)14&nbsp;<br>&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Examples:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;AT#SCFGEXT = 1,1,0,0&nbsp;&nbsp;-&nbsp;Socket 1 set with SRING data amount&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;AT#SCFGEXT = 1,2,1,0&nbsp; -&nbsp;Socket 1 set with SRING view data&nbsp;mode in hex.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;AT#SCFGEXT = 1,2,1,0,0,1 –&nbsp;Socket 1&nbsp;set also with hex data mode for sending&nbsp;<br>
data14&nbsp;<br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>14&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;79 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=80></a><IMG src="Telit_IP_User_Guide_r10-80_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-80_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
NOTE14:&nbsp;<br>&nbsp;<br>Through AT&nbsp;command #SCFGEXT2 is possible&nbsp;to set other configuration parameters.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SCFGEXT2 = &lt;connId&gt;,&lt;bufferStart&gt;,[,&lt;abortConnAttempt&gt; &nbsp; &nbsp;&nbsp; &nbsp;[,&lt;unused_B&nbsp;<br>&gt;[,&lt;unused_C &gt;[,&lt;unused_D&gt;]]]]&nbsp;<br>&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&lt;connId&gt; is&nbsp;the connection identifier of the socket on &nbsp;&nbsp;<br>
which settings take effect&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&lt;bufferStart&gt;, set new behavior for data sending&nbsp;timer &nbsp;<br>
(which timeout &lt;Tx To&gt; is set through #SCFG):&nbsp;<br>restart every time new bytes are received from the &nbsp;<br>serial port. &nbsp;<br>Note: when&nbsp;enabled, old&nbsp;behavior for data sending timer&nbsp;<br>is automatically disabled&nbsp;to avoid overlapping.&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&lt;abortConnAttempt&gt; enables connection attempt abort &nbsp; &nbsp;&nbsp;&nbsp;<br>
(#SD/#SKTD/#SKTOP) before&nbsp;CONNECT(online mode) or&nbsp;&nbsp;<br>OK(command&nbsp;mode). &nbsp;<br>It is possible to abort attempt and give back control to &nbsp;<br>AT interface by pressing any key.&nbsp;<br>As soon as the control has been given to the AT interface &nbsp;&nbsp;<br>the ERROR message&nbsp;will be received on the interface itself. &nbsp;<br>&nbsp;<br>To get more details on which settings are available on &nbsp;<br>different chipsets, please&nbsp;consult&nbsp;the AT Commands Reference Guide.&nbsp;<br>
&nbsp;<br>
5.2.3.<b>&nbsp;</b><br>
Send data&nbsp;in command mode connections&nbsp;<br>
&nbsp;<br>
To send data in command mode we can use the&nbsp;command AT#SSEND. &nbsp;<br>&nbsp;<br>At the prompt we can write data and send immediately on the socket with CTRL-Z&nbsp;<br>sequence. Maximum number of bytes is 1024, if&nbsp;more characters are written they are&nbsp;<br>truncated in upload. The command syntax is:&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;80 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=81></a><IMG src="Telit_IP_User_Guide_r10-81_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-81_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
AT#SSEND =&nbsp;&lt;connId&gt;&nbsp;<br>&nbsp;<br>Where &lt;connId&gt; is the&nbsp;connection Id of the socket that we want to use to&nbsp;send data&nbsp;<br>(socket must be opened&nbsp;otherwise an error is raised).&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We send the string “hello” on an echo socket with&nbsp;SRING mode set to Data amount.&nbsp;<br>&nbsp;<br>AT#SSEND=1&nbsp;<br>&gt; hello&lt;CTRL-Z&gt;&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 1,5 &nbsp;<br>&nbsp;<br>&nbsp;<br>
NOTE14:&nbsp;<br>&nbsp;<br>Through new AT#SSENDEXT command it is possible to include all bytes within data to&nbsp;<br>send, including special characters(ESC, Ctrl-Z and BS) previously&nbsp;reserved with&nbsp;<br>#SSEND.&nbsp;<br>&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>
AT#SSENDEXT = &lt;connId&gt;,&lt;bytestosend&gt;&nbsp;<br>&nbsp;<br>
When &lt;bytestosend&gt; bytes have been sent to the&nbsp;serial port,&nbsp;<br>operation is&nbsp;automatically completed.&nbsp;<br>
5.2.4.<b>&nbsp;</b><br>
Receive data in command mode connections&nbsp;<br>
&nbsp;<br>
To receive data in command mode it is possible to use the AT#SRECV.&nbsp;<br>&nbsp;<br>If we receive&nbsp;an unsolicited message&nbsp;SRING&nbsp;we can extract the data from the socket&nbsp;<br>buffer in command mode. The syntax of the command is:&nbsp;<br>&nbsp;<br>AT#SRECV=&lt;connId&gt;,&lt;maxByte&gt;&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>Where :&nbsp;<br>
&nbsp;&nbsp;&lt;connId&gt; is&nbsp;the connection Id of the&nbsp;socket with data pending&nbsp;<br>&nbsp;&nbsp;&lt;maxbytes&gt; is the number of pending bytes we want to extract (maximum&nbsp;value&nbsp;<br>
is 1500).&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;81 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=82></a><IMG src="Telit_IP_User_Guide_r10-82_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-82_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We receive&nbsp;a SRING data amount and then we extract all the five bytes pending with&nbsp;<br>SRECV.&nbsp;<br>&nbsp;<br>SRING: 1,5&nbsp;<br>&nbsp;<br>at#srecv=1,5&nbsp;<br>#SRECV: 1,5&nbsp;<br>hello&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
5.2.5.<b>&nbsp;</b><br>
Socket&nbsp;Information command&nbsp;<br>
&nbsp;<br>
It is possible to have additional information on every socket with the AT#SI command.&nbsp;<br>The command syntax is:&nbsp;<br>&nbsp;<br>AT#SI [=&nbsp;&lt;connId&gt;]&nbsp;<br>&nbsp;<br>Where connId is an optional parameter, we can see info on a&nbsp;specific socket or for all&nbsp;<br>sockets.&nbsp;<br>The information shown&nbsp;by the command are:&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;Data sent on the socket.&nbsp;<br>&nbsp;&nbsp;Data extracted from the socket buffer.&nbsp;<br>&nbsp;&nbsp;Data pending on the socket buffer.&nbsp;<br>&nbsp;&nbsp;Data not acknowledged&nbsp;by the remote.&nbsp;<br>
&nbsp;<br>
at#si&nbsp;<br>&nbsp;<br>#SI: 1,123,400,10,50&nbsp;<br>#SI: 2,0,100,0,0&nbsp;<br>#SI: 3,589,100,10,100&nbsp;<br>#SI: 4,0,0,0,0&nbsp;<br>#SI: 5,0,0,0,0&nbsp;<br>#SI: 6,0,98,60,0&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
<i>&nbsp;<br></i>Sockets 1,2,3,6 are opened with some data traffic.&nbsp;<br>For example socket 1 has 123 bytes sent,&nbsp;400 bytes received, 10 byte waiting to&nbsp;<br>be read and 50 bytes waiting to be&nbsp;acknowledged from the remote side.&nbsp;<br>
&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;82 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=83></a><IMG src="Telit_IP_User_Guide_r10-83_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-83_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
5.3.<b>&nbsp;</b><br>
Examples&nbsp;<br>
5.3.1.<b>&nbsp;</b><br>
Open a&nbsp;command mode connection with Classic SRING&nbsp;<br>
&nbsp;<br>
Open a connection on an Echo port:&nbsp;<br>&nbsp;<br>AT#SD=2,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SSEND=2&nbsp;<br>&gt;hello&nbsp;<br>OK&nbsp;<br>&nbsp;<br>&nbsp;<br>SRING: 2&nbsp;<br>&nbsp;<br>AT#SSEND=2&nbsp;<br>&gt;hello&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>…&nbsp;<br>&nbsp;<br>Only one SRING unsolicited also if we have other data pending, the user is informed&nbsp;<br>only once.&nbsp;<br>
5.3.2.<b>&nbsp;</b><br>
Open a&nbsp;command mode connection with Data&nbsp;amount SRING&nbsp;<br>
&nbsp;<br>
Open a connection on an Echo port:&nbsp;<br>&nbsp;<br>AT#SD=2,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>AT#SSEND=2&nbsp;<br>&gt; hello&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 2,5&nbsp;<br>AT#SSEND=2&nbsp;<br>&gt; hello&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 2,10&nbsp;<br>
&nbsp;<br>SRing data amount unsolicited is updated every time new data arrives on the&nbsp;<br>socket.&nbsp;<br>&nbsp;<br>Now we use AT#SI to see info on connection Id&nbsp;2:&nbsp;<br>&nbsp;<br>AT#SI=2&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;83 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=84></a><IMG src="Telit_IP_User_Guide_r10-84_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-84_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
#SI: 2,10,0,10,0&nbsp;<br>
&nbsp;<br>Ten bytes sent and ten pending on the socket.&nbsp;<br>
5.3.3.<b>&nbsp;</b><br>
Open a&nbsp;command mode connection with Data&nbsp;view&nbsp;SRING&nbsp;<br>
6<br>1<br>B<br>
&nbsp;<br>
We configure connection Id 1 for data view in text mode:&nbsp;<br>&nbsp;<br>AT#SCFGEXT = 1,2,0,0&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>We configure connection Id 2 for data view in hex mode for received data:&nbsp;<br>&nbsp;<br>AT#SCFGEXT = 2,2,1,0&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Open the two echo connections in command mode:&nbsp;<br>&nbsp;<br>AT#SD=1,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>AT#SD=2,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Send some data on the first, text mode:&nbsp;<br>&nbsp;<br>AT#SSEND=1&nbsp;<br>&gt; hello&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 1,5,hello&nbsp;<br>
&nbsp;<br>Send some data on the second, hex&nbsp;mode for received data:&nbsp;<br>
&nbsp;<br>
&nbsp;<br>AT#SSEND=2&nbsp;<br>&gt; hello&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 2,5,68656C6C6F&nbsp;<br>
&nbsp;<br>Data are extracted directly from the&nbsp;socket buffer, now we send more than 64&nbsp;<br>characters, this will cause two unsolicited SRING.&nbsp;<br>&nbsp;<br>AT#SSEND=1&nbsp;<br>&gt; testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 1,64,testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttest&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;84 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=85></a><IMG src="Telit_IP_User_Guide_r10-85_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-85_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
SRING: 1,4,test&nbsp;<br>
&nbsp;<br>The first unsolicited contains the first&nbsp;64 bytes of the socket buffer,&nbsp;the remaining 4 are&nbsp;<br>extracted with the second&nbsp;unsolicited message.&nbsp;<br>&nbsp;<br>NOTE15: &nbsp;<br>&nbsp;<br>it’s also possible to send data in hex data mode representation.&nbsp;<br>&nbsp;<br>This is possible through&nbsp;setting #SCFGEXT&nbsp;&lt;sendDataMode&gt;&nbsp;parameter to&nbsp;1.The data&nbsp;<br>shall be hexadecimal format(each octet of the data is given as two IRA character long&nbsp;<br>hexadecimal number) and given in one line.&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>We configure connection Id 1 for data view in&nbsp;hex mode for received data and also for&nbsp;<br>sending data:&nbsp;<br>&nbsp;<br>AT#SCFGEXT = 1,2,1,0,0,<b>1</b>&nbsp;<br>OK&nbsp;<br>&nbsp;<br>AT#SD=1,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>Send some data in hexadecimal&nbsp;format:&nbsp;<br>&nbsp;<br>AT#SSEND=1&nbsp;<br>&gt; 68656C6C6F&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 1,5,68656C6C6F&nbsp;<br>
&nbsp;<br>&nbsp;<br>
5.3.4.<b>&nbsp;</b><br>
Open a&nbsp;command mode connection with AT#SA&nbsp;<br>
&nbsp;<br>
After using&nbsp;AT#SL we have a &lt;connId&gt; listening&nbsp;on a specific&nbsp;port (only for TCP&nbsp;<br>connections).&nbsp;<br>If we receive&nbsp;an incoming&nbsp;connection an unsolicited code is raised.&nbsp;<br>&nbsp;<br>AT#SL = 1,1,1000 &nbsp;<br>&nbsp;<br>
SRING: 1&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>15&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;85 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=86></a><IMG src="Telit_IP_User_Guide_r10-86_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-86_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
Now we can accept the incoming connection:&nbsp;<br>&nbsp;<br>AT#SA = 1,1&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>and we stay in command mode,&nbsp;but the connection has been opened.&nbsp;<br>
5.3.5.<b>&nbsp;</b><br>
Passing from command mode&nbsp;to online mode interface&nbsp;<br>
&nbsp;<br>
It’s always possible to come back to online mode interface using the command&nbsp;<br>AT#SO = &lt;connId&gt;.&nbsp;<br>&nbsp;<br>Open an echo socket in command mode:&nbsp;<br>&nbsp;<br>AT#SD=1,0,10510,&quot;88.37.127.146&quot;,0,0,1&nbsp;<br>OK&nbsp;<br>&nbsp;<br>SRING: 1,5&nbsp;<br>
&nbsp;<br>&nbsp;<br>Now we come back to online mode with:&nbsp;<br>&nbsp;<br>AT#SO = 1&nbsp;<br>CONNECT&nbsp;<br>Hello&nbsp;<br>
&nbsp;<br>The AT interface is now&nbsp;in&nbsp;online mode and all characters written are interpreted as&nbsp;<br>data to send on the connection Id.&nbsp;<br>
&nbsp;<br>&nbsp;<br>
5.3.6.<b>&nbsp;</b><br>
ICMP / PING16&nbsp;handling&nbsp;<br>
&nbsp;<br>Through AT#ICMP command it’s possible to&nbsp;enable ICMP Ping ECHO_REPLY to a&nbsp;<br>subset&nbsp;<br>(#FRWL setting) of IP addresses pinging the module.The command syntax is:&nbsp;<br>AT#ICMP=&lt;mode&gt;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;0&nbsp;– disable ICMP Ping support(default)&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;1&nbsp;– enable Ping ECHO_REPLY to the subset of IP addresses set by #FRWL&nbsp;<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;2&nbsp;– enable Ping ECHO_REPLY to every IP addresses pinging the module &nbsp; &nbsp;&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>16&nbsp;PING functionality is&nbsp;not&nbsp;available&nbsp;on UC864-G,&nbsp;UC864-E, UC864-E-DUAL, UC864-E-AUTO&nbsp;and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;86 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=87></a><IMG src="Telit_IP_User_Guide_r10-87_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-87_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
&nbsp;<br>NOTE17:&nbsp;<br>&nbsp;<br>Through AT#PING command &nbsp;is possible to send PING Echo Request messages to a&nbsp;<br>specified&nbsp;<br>host(IP address or DNS host name) and to&nbsp;receive the corresponding Echo Reply.&nbsp;<br>The command syntax is:&nbsp;<br>AT#PING=&lt;IPaddr&gt;[,&lt;retryNum&gt;[,&lt;len&gt;[,&lt;timeout&gt;[,&lt;ttl&gt;]]]]&nbsp;<br>&nbsp;<br>Where:&nbsp;<br>&nbsp;<br>
&nbsp;&nbsp;&lt;IPaddr&gt; remote host address(IP address in dotted decimal&nbsp;notation or&nbsp;DNS&nbsp;<br>
host name)&nbsp;<br>
&nbsp;&nbsp;&lt;retryNum&gt; retries of PING Echo Request &nbsp;&nbsp;<br>&nbsp;&nbsp;&lt;len&gt; length&nbsp;of PING Echo Request &nbsp;<br>&nbsp;&nbsp;&lt;timeout&gt; -&nbsp;timeout waiting for&nbsp;a single Echo Reply&nbsp;<br>&nbsp;&nbsp;&lt;ttl&gt; - time to&nbsp;live&nbsp;<br>
&nbsp;<br>NOTE: to use AT#PING the context has to be&nbsp;previously activated by AT#SGACT=1,1.&nbsp;<br>To receive the Echo Replies it’s not necessary to use AT#ICMP before AT#PING.&nbsp;&nbsp;<br>&nbsp;<br>Example:&nbsp;<br>&nbsp;<br>After #PING command:&nbsp;<br>&nbsp;<br>AT#PING=”www.telit.com”&nbsp;<br>
&nbsp;<br>The Echo replies will be&nbsp;received like&nbsp;following string:&nbsp;&nbsp;<br>&nbsp;<br>#PING: 01,”xxx.xxx.xxx.xxx”,6,50&nbsp;<br>
&nbsp;<br>Where:&nbsp;&nbsp;<br>&lt;Echo Reply number&gt;,&lt;IP address of the remote host&gt;,&lt;replyTime&gt;(100 ms&nbsp;<br>units),&lt;ttl&gt;&nbsp;<br>
&nbsp;<br>Subsequent&nbsp;Echo replies&nbsp;are received as follows:&nbsp;<br>#PING: 02,”xxx.xxx.xxx.xxx”,5,50&nbsp;<br>#PING: 03,”xxx.xxx.xxx.xxx”,6,50&nbsp;<br>#PING: 04,”xxx.xxx.xxx.xxx”,5,50&nbsp;<br>&nbsp;<br>OK&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>17&nbsp;Not&nbsp;available on UC864-G,&nbsp;UC864-E, UC864-E-DUAL,&nbsp;UC864-E-AUTO and UC864-WD&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;87 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=88></a><IMG src="Telit_IP_User_Guide_r10-88_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-88_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
6.<b>&nbsp;</b><br>
List of acronyms&nbsp;<br>
&nbsp;<br>
Abbreviation&nbsp;<br>
Description<br>
n&nbsp;<br>
Ack&nbsp;<br>
Acknowledge&nbsp;<br>
APN&nbsp;<br>
Access Point Name&nbsp;<br>
AT&nbsp;<br>
Attention commands&nbsp;<br>
CM&nbsp;<br>
Command mode&nbsp;<br>
CR&nbsp;<br>
Carriage Return&nbsp;<br>
0<br>T<br>
CSD&nbsp;<br>
Circuit Switched Data&nbsp;<br>
CTS&nbsp;<br>
Clear To Send&nbsp;<br>
DCD&nbsp;<br>
Data Carrier&nbsp;Detected&nbsp;<br>
FTP&nbsp;<br>
File Transfer&nbsp;Protocol&nbsp;<br>
GGSN&nbsp;<br>
Gateway GPRS Serving/Support Node&nbsp;<br>
GPRS&nbsp;<br>
General Radio Packet Service&nbsp;<br>
GSM&nbsp;<br>
Global System for Mobile communication&nbsp;<br>
GTP&nbsp;<br>
GPRS Tunnelling&nbsp;Protocol&nbsp;<br>
HTML&nbsp;<br>
Hyper Text Mark-up Language&nbsp;<br>
HTTP&nbsp;<br>
Hypertext Transfer Protocol&nbsp;<br>
HSCSD&nbsp;<br>
High-Speed Circuit-Switched Data&nbsp;<br>
IP&nbsp;<br>
Internet Protocol&nbsp;<br>
ISDN&nbsp;<br>
Integrated Services Digital Network&nbsp;<br>
ISP&nbsp;<br>
Internet Service Provider&nbsp;<br>
LCP&nbsp;<br>
Link Control Protocol&nbsp;<br>
LLC&nbsp;<br>
Logical Link Control&nbsp;<br>
MS&nbsp;<br>
Mobile&nbsp;Station&nbsp;<br>
MT&nbsp;<br>
Mobile&nbsp;Terminated&nbsp;<br>
NCP&nbsp;<br>
Network Control Protocol&nbsp;<br>
OEM&nbsp;<br>
Other Equipment Manufacturer&nbsp;<br>
PAP&nbsp;<br>
Password Authentication Protocol&nbsp;<br>
PDP&nbsp;<br>
Packet Data&nbsp;Protocol&nbsp;<br>
PDU&nbsp;<br>
Protocol Data&nbsp;Unit&nbsp;<br>
PLMN&nbsp;<br>
Public Land&nbsp;Mobile&nbsp;Network&nbsp;<br>
PPP&nbsp;<br>
Point to Point Protocol&nbsp;<br>
QoS&nbsp;<br>
Quality Of Service&nbsp;<br>
RLC&nbsp;<br>
Radio Link Control&nbsp;<br>
RoHS&nbsp;<br>
Reduction of Hazardous Substances&nbsp;<br>
RTS&nbsp;<br>
Ready To Send&nbsp;<br>
SIM&nbsp;<br>
Subscriber Identity Module&nbsp;<br>
SKTM&nbsp;<br>
Socket Mode&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;88 of 89&nbsp;<br>
&nbsp;<br>
<hr>
<A name=89></a><IMG src="Telit_IP_User_Guide_r10-89_1.jpg"><br>
<IMG src="Telit_IP_User_Guide_r10-89_2.jpg"><br>
&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>
80000ST10028 &nbsp;rev.10&nbsp;&nbsp;2011-03-09&nbsp;<br>
&nbsp;<br>
SMTP&nbsp;<br>
Simple Mail&nbsp;Transfer Protocol&nbsp;<br>
TCP&nbsp;<br>
Transmission&nbsp;Control Protocol&nbsp;<br>
&nbsp;<br>&nbsp;<br>
Reproduction forbidden&nbsp;without Telit Communications S.p.A.&nbsp;written authorization -&nbsp;All&nbsp;Rights&nbsp;Reserved&nbsp;<br>
&nbsp;<br>
page&nbsp;89 of 89&nbsp;<br>
&nbsp;<br>
<hr>
</BODY>
</HTML>
